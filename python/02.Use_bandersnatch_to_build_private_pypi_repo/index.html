
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Use Bandersnatch to build a private pypi repository - Pengfei Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#use-bandersnatch-to-build-a-private-pypi-repository" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Pengfei Documentation" class="md-header__button md-logo" aria-label="Pengfei Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Pengfei Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Use Bandersnatch to build a private pypi repository
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Pengfei Documentation" class="md-nav__button md-logo" aria-label="Pengfei Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Pengfei Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    admin_sys
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    admin_sys
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    core
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    core
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../adminsys/core/Systemd%28serviced%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    systemd(serviced) in linux
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    db_management
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    db_management
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_2_1" id="__nav_2_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    mariadb
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    mariadb
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../adminsys/db_management/mariadb/Installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../adminsys/db_management/mariadb/Management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2_2" id="__nav_2_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    postgres
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    postgres
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../adminsys/db_management/postgres/Install_postgresql/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    os_setup
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    os_setup
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../adminsys/os_setup/01.Lang_support/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    server language support
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../adminsys/os_setup/02.Add_debian_backports_repo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    debian backports repo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../adminsys/os_setup/03.Remote_Desktop_access/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    debian server rdp access
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../adminsys/os_setup/05.Debian_security_update_automation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    debian server security update automation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../adminsys/os_setup/06.Accept_private_ca_certificate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    debian server accept private ca cert
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../adminsys/os_setup/07.Setup_shared_folder/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configure a shared folder in debian
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../adminsys/os_setup/08.Debian_upgrade/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Migrate debian 11 to 13
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../adminsys/os_setup/Install_configure_Postfix_to_sendmail/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Use postfix to sendmail
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_9" >
        
          
          <label class="md-nav__link" for="__nav_2_3_9" id="__nav_2_3_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    auto_config
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    auto_config
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_9_1" >
        
          
          <label class="md-nav__link" for="__nav_2_3_9_1" id="__nav_2_3_9_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    ansible
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_3_9_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_9_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    ansible
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../adminsys/os_setup/auto_config/ansible/ansible_roles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ansible roles
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_10" >
        
          
          <label class="md-nav__link" for="__nav_2_3_10" id="__nav_2_3_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    package_management
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    package_management
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../adminsys/os_setup/package_management/01.Install_deb_files/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    install package via deb files
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../adminsys/os_setup/package_management/02.Use_private_repo_in_debian/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    use private package repo in debian
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_11" >
        
          
          <label class="md-nav__link" for="__nav_2_3_11" id="__nav_2_3_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    security
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    security
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../adminsys/os_setup/security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Summary
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../adminsys/os_setup/security/01.Configure_ssh_local_account/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configure_ssh_local_account
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../adminsys/os_setup/security/02.Configure_ssh_pam_ldap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configure_ssh_pam_ldap
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../adminsys/os_setup/security/03.Configure_ssh_sssd_ldap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configure ssh sssd ldap
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../adminsys/os_setup/security/04.Configure_ssh_pam_sssd_ad_en/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configure_ssh_sssd_ad
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../adminsys/os_setup/security/05.Static_uid_gid_integration_in_sssd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Static_uid_gid_integration_in_sssd
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../adminsys/os_setup/security/06.Configure_ssh_sssd_kerberos_linux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configure_ssh_sssd_kerberos_linux
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    other_services
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    other_services
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../adminsys/other_services/build_openssl_tool/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    build_openssl_tool
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../adminsys/other_services/install_gitlab_ce/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    install_gitlab_ce
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../adminsys/other_services/install_vscode_server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    install_vscode_server
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4_4" id="__nav_2_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Nginx
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Nginx
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../adminsys/other_services/Nginx/01.Install_Nginx/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../adminsys/other_services/Nginx/02.Enable_https_resolution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Enable_https_and_auto_redirect
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../adminsys/other_services/Nginx/03.Use_Nginx_as_Http_load_balancer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Use_nginx_as_load_balancer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    container
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    container
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Containerd
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Containerd
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../container/Containerd/01.Introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../container/Containerd/02.Install_config_containerd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Docker and Docker compose
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Docker and Docker compose
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../container/Docker/01.Install_docker_dockerCompose/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../container/Docker/02.Use_docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Use docker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../container/Docker/03.Use_docker_compose/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Use docker compose
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../container/Helm_chart_registry/01.Deploy_a_helm_chart_registry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    helm chart registry
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    container image registry
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    container image registry
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4_1" >
        
          
          <label class="md-nav__link" for="__nav_3_4_1" id="__nav_3_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    harbor
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    harbor
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../container/Image_registry/harbor/01.Introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../container/Image_registry/harbor/02.Harbor_installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Harbor installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../container/Image_registry/harbor/03.Harbor_helm_chart_management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Harbor helm chart management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../container/Image_registry/04.Use_private_image_registry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configure container runtime to use private image registry
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    k8s
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    k8s
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5_1" >
        
          
          <label class="md-nav__link" for="__nav_3_5_1" id="__nav_3_5_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    deploy_k8s_with_kubeadm
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    deploy_k8s_with_kubeadm
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../container/k8s/deploy_k8s_with_kubeadm/01.Introduction_of_Kubeadm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction of kubeadm
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../container/k8s/deploy_k8s_with_kubeadm/02.Deploy_k8s_cluster_online/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Deploy k8s with kubeadm
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../container/k8s/deploy_k8s_with_kubeadm/03.K8s_cluster_management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Manage k8s with kubeadm
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../container/k8s/deploy_k8s_with_kubeadm/04.Post_k8s_cluster_installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Post installation config
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5_2" >
        
          
          <label class="md-nav__link" for="__nav_3_5_2" id="__nav_3_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    k8s_client_setup
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    k8s_client_setup
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../container/k8s/k8s_client_setup/01.Install_kubectl_and_helm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Install kubectl and helm
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../container/k8s/k8s_client_setup/02.Helm_introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction of helm
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../container/k8s/k8s_client_setup/03.Helm_use_private_repo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configure helm client to use private repo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5_3" >
        
          
          <label class="md-nav__link" for="__nav_3_5_3" id="__nav_3_5_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    k8s_security
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    k8s_security
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../container/k8s/k8s_security/01.K8s_security_best_practices/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    k8s security best practices
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../container/k8s/k8s_security/06.k8s_security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    k8s network security
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../container/k8s/01.Introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction of k8s
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../container/k8s/04.Managing_k8s_certificate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Managing k8s certificate
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../container/k8s/05.k8s_cluster_supervision/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    K8s_cluster_supervision
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../container/k8s/Debug_application_in_cluster_k8s/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Debug_deployed_app_in_k8s
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../container/k8s/k8s_cluster_upgrade/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    k8s_cluster_upgrade
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    data_management
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    data_management
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data_management/tuning.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tuning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data_management/faq.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FAQ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    dev_ops
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    dev_ops
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../devops/install.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../devops/config.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    hadoop
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    hadoop
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hadoop/Integrate_kerberos_in_hadoop_cluster/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Integrate kerberos in hadoop cluster
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    security
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    security
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1" >
        
          
          <label class="md-nav__link" for="__nav_7_1" id="__nav_7_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Kerberos
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Kerberos
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../security/kerberos/01.Introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    01.Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../security/kerberos/02.Install_kerberos_server_client_for_debian_server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    02.Install_kerberos_client_server
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../security/kerberos/03.Configure_kerberos_to_use_ldap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    03.Configure_kerberos_to_use_ldap
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../security/kerberos/04.Install_kerberos_server_client_for_windows_server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    04.Install_kerberos_server_client_for_windows
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../security/kerberos/05.Configure_sssd_to_use_static_uid_gid/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    05.Configure_sssd_to_use_static_uid_gid
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../security/kerberos/Keytab_introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    06.Keytab_introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2" >
        
          
          <label class="md-nav__link" for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    keycloak
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    keycloak
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../security/keycloak/Install_keycloak/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Install_keycloak
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    ldap
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    ldap
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../security/ldap/01.install_ldap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Install_ldap
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-install-bandersnatch" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Install bandersnatch
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Install bandersnatch">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-prepare-a-python-venv" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.1 Prepare a Python venv
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-install-the-package" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.2 Install the package
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-configure-bandersnatch" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Configure bandersnatch
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-serve-the-package-as-a-web-server" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Serve the package as a web server
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-configure-pip-to-use-the-private-repo" class="md-nav__link">
    <span class="md-ellipsis">
      
        5 Configure pip to use the private repo
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5 Configure pip to use the private repo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-temporary-config" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.1 Temporary Config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-permanent-config" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2 Permanent Config
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.2 Permanent Config">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#521-use-the-pipconf-recommended" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2.1 Use the pip.conf (Recommended)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.2.1 Use the pip.conf (Recommended)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#5211-linux-config" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2.1.1 Linux config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5212-windows-path" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2.1.2 windows path
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#522-use-the-pip-cli" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2.2 Use the pip CLI
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.2.2 Use the pip CLI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#5221-for-pip-100" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2.2.1 For pip &gt;= 10.0
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5222-for-older-version" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2.2.2 For older version
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#523-use-the-env-var" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2.3 Use the env var
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-test-your-pip-config" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3 Test your pip config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54-for-conda-virtual-env" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.4 For conda virtual env
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-troubles-in-bandersnatch" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Troubles in bandersnatch
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Troubles in bandersnatch">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-mirrored-files" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.1 mirrored-files
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-no-auto-dependencies-checks" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.2 No auto dependencies checks
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="use-bandersnatch-to-build-a-private-pypi-repository">Use Bandersnatch to build a private pypi repository<a class="headerlink" href="#use-bandersnatch-to-build-a-private-pypi-repository" title="Permanent link">&para;</a></h1>
<p><strong>Bandersnatch is a PyPI mirror client</strong> according to <code>PEP 381 + PEP 503 + PEP 691</code>.
- <a href="http://www.python.org/dev/peps/pep-0381">PEP 381</a>: Mirroring infrastructure for PyPI
- <a href="https://peps.python.org/pep-0691/">PEP 691</a>: JSON-based Simple API for Python Package Indexes
Version features:
  * bandersnatch &gt;=6.0 implements PEP691
  * bandersnatch &gt;=4.0 supports Linux, MacOSX + Windows</p>
<p>In this tutorial, we will use bandersnatch to mirror some python packages and server them as a <code>private pypi server</code>.
The official GitHub repo of <a href="https://github.com/pypa/bandersnatch|">bandersnatch</a>.
The official doc is <a href="https://bandersnatch.readthedocs.io/en/latest/">here</a></p>
<h2 id="1-install-bandersnatch">1. Install bandersnatch<a class="headerlink" href="#1-install-bandersnatch" title="Permanent link">&para;</a></h2>
<p>It's recommended to install bandersnatch on a virtual env with a reserved uid</p>
<h3 id="11-prepare-a-python-venv">1.1 Prepare a Python venv<a class="headerlink" href="#11-prepare-a-python-venv" title="Permanent link">&para;</a></h3>
<p><strong>To Run below command, the user need to have sudoer right</strong></p>
<div class="codehilite"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>update

<span class="c1"># install python interpreter</span>
sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>python3<span class="w"> </span>-y

<span class="c1"># install pip</span>
sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>python3-pip

<span class="c1"># install venv</span>
sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>python3-venv

<span class="c1"># create a user bandersnatch</span>
sudo<span class="w"> </span>useradd<span class="w"> </span>-m<span class="w"> </span>bandersnatch<span class="w"> </span>-s<span class="w"> </span>/bin/bash

<span class="c1"># change current user to bandersnatch</span>
sudo<span class="w"> </span>su<span class="w"> </span>bandersnatch

<span class="c1"># go to the folder which you want to create the venv.</span>
<span class="c1"># in this tutorial we choose ~/pypi/venv, to combine with our cron job script</span>
sudo<span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span>~/pypi/venv

<span class="c1"># change owner if you need, but optional</span>
sudo<span class="w"> </span>chown<span class="w"> </span>-R<span class="w"> </span>bandersnatch:root<span class="w"> </span>~/pypi/venv

<span class="c1"># goto the venv folder</span>
<span class="nb">cd</span><span class="w"> </span>~/pypi/venv

<span class="c1"># create  a virtual env called bandersnatch</span>
<span class="c1"># don&#39;t use sudo here</span>
python3<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>bandersnatch

<span class="c1"># test the virtual env</span>
<span class="c1"># activate the venv</span>
<span class="nb">source</span><span class="w"> </span>bandersnatch/bin/activate

<span class="c1"># to exit the venv, just type </span>
deactivate
</code></pre></div>

<h3 id="12-install-the-package">1.2  Install the package<a class="headerlink" href="#12-install-the-package" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># install the package</span>
pip<span class="w"> </span>install<span class="w"> </span>bandersnatch

<span class="c1"># test the package</span>
bandersnatch<span class="w"> </span>--help
</code></pre></div>

<h2 id="2-configure-bandersnatch">2. Configure bandersnatch<a class="headerlink" href="#2-configure-bandersnatch" title="Permanent link">&para;</a></h2>
<p>When we run the command <code>bandersnatch mirror</code>, it will call a conf file that controls the mirror's behavior.
By default, this file is located at <strong>/etc/bandersnatch.conf</strong>. And the default user may not have the right to create or edit this file.</p>
<blockquote>
<p>To avoid the access rights problem, we recommend you use the below config file path to host the config</p>
</blockquote>
<p><strong>To run the below commands, we suppose your uid is bandersnatch</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c1"># create a folder to host bandersnatch conf</span>
mkdir<span class="w"> </span>-p<span class="w"> </span>~/pypi/conf

<span class="c1"># create a folder to host the mirrored packages</span>
mkdir<span class="w"> </span>-p<span class="w"> </span>~/pypi/data

<span class="c1"># create a folder to host the log</span>
mkdir<span class="w"> </span>-p<span class="w"> </span>~/pypi/log

<span class="c1"># create a folder to host the releases</span>
mkdir<span class="w"> </span>-p<span class="w"> </span>~/pypi/export

<span class="c1"># create the config file</span>
vim<span class="w"> </span>~/pypi/conf/bandersnatch.conf
</code></pre></div>

<blockquote>
<p>Run <code>bandersnatch mirror</code> for the first time - it will create an empty configuration file for you in /etc/bandersnatch.conf.
If you add some packages in it and run second time, It will populate your mirror with the current status of all PyPI packages.
It takes many disk storage and long time to finish if you take all pypi packages. </p>
<p>This page https://pypi.org/stats/ will give you an idea how much storage you need to complete the mirror. For mirror
the top 100 projects, it requires 23.6TB.</p>
</blockquote>
<p>Now, put the below config file content in it.</p>
<p>The default location should be <code>/etc/bandersnatch.conf</code>. But you can put this config file where you like. For example,
in this tutorial, I put it in here <code>/home/bandersnatch/pypi/conf/bandersnatch.conf</code></p>
<div class="codehilite"><pre><span></span><code><span class="k">[mirror]</span>
<span class="na">json</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">true</span>
<span class="na">directory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">/home/bandersnatch/pypi/data</span>
<span class="na">master</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">https://pypi.org</span>
<span class="na">workers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">4</span>
<span class="na">timeout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">40</span>
<span class="na">stop-on-error</span><span class="o">=</span><span class="w"> </span><span class="s">false</span>
<span class="na">hash-index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">false</span>

<span class="k">[plugins]</span>
<span class="na">enabled</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="na">exclude_platform</span>
<span class="w">  </span><span class="na">allowlist_project</span>
<span class="w">  </span><span class="na">allowlist_release</span>

<span class="k">[allowlist]</span>
<span class="na">packages</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="na">pip</span>
<span class="w">    </span><span class="na">pandas</span>
<span class="w">    </span><span class="na">folium</span>

<span class="k">[blocklist]</span>
<span class="na">platforms</span><span class="w"> </span><span class="o">=</span>
<span class="w">     </span><span class="na">macos</span>
<span class="w">     </span><span class="na">freebsd</span>
<span class="w">     </span><span class="na">py2.4</span>
<span class="w">     </span><span class="na">py2.5</span>
<span class="w">     </span><span class="na">py2.6</span>
<span class="w">     </span><span class="na">py2.7</span>
</code></pre></div>

<blockquote>
<p>You will notice if you only mirror the above packages, you can not do the pip install correctly. Because packages
also has dependencies. For example pandas require numpy to work, if you have pandas, but not numpy, pip install
will fail. So you need to sync all the dependent packages of the required packages.
To determine the complete package list is another challenge which we will address in another doc.</p>
</blockquote>
<p>Now we can start the mirroring of the packages</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># don&#39;t forget to activate the virtual env which contains the bandersnatch binary</span>

<span class="c1"># in our case, we provide the path of the config file </span>
bandersnatch<span class="w"> </span>-c<span class="w"> </span>/home/bandersnatch/pypi/conf/bandersnatch.conf<span class="w"> </span>mirror
</code></pre></div>

<p>After running the above command, you will notice bandersnatch start to download the packages. It will create a 
subdirectory under <code>/home/bandersnatch/pypi/data</code> called <code>web/</code>.  </p>
<h2 id="3-serve-the-package-as-a-web-server">3. Serve the package as a web server<a class="headerlink" href="#3-serve-the-package-as-a-web-server" title="Permanent link">&para;</a></h2>
<p>After the <code>bandersnatch mirror</code> command finished, you should see the following file and directory generated
in the target folder which are defined in the <code>bandersnatch.conf</code>(directory = /home/bandersnatch/pypi/data). 
- generation (file)
- status (file)
- web (directory which contains all the packages and index)</p>
<p>All the packages are located in the <code>web</code> folder.</p>
<p>To server the packages, we need to set up a web server. The configuration of the web server must respect <code>PEP691 support</code>.
In this tutorial, we only show a nginx config example. Below is an example of the config.
Here we suppose that pypi.casd.local is the server url.</p>
<p>```nginx configuration
server {
    listen 80;
    server_name pypi.casd.local;</p>
<div class="codehilite"><pre><span></span><code><span class="err">#</span><span class="w"> </span><span class="nt">redirect</span><span class="w"> </span><span class="nt">http</span><span class="w"> </span><span class="nt">request</span><span class="w"> </span><span class="nt">to</span><span class="w"> </span><span class="nt">https</span>
<span class="nt">return</span><span class="w"> </span><span class="nt">301</span><span class="w"> </span><span class="nt">https</span><span class="o">://$</span><span class="nt">host</span><span class="o">$</span><span class="nt">request_uri</span><span class="o">;</span>

<span class="err">}</span>
</code></pre></div>

<p>server {
    listen 443 ssl;
    server_name pypi.casd.local;
    ssl_certificate /etc/ssl/certs/casd_k8s_wildcard.pem;
    ssl_certificate_key /etc/ssl/private/wildcard_key.pem;</p>
<div class="codehilite"><pre><span></span><code><span class="nx">root</span><span class="w"> </span><span class="o">/</span><span class="nx">data</span><span class="o">/</span><span class="nx">pypi</span><span class="o">/</span><span class="nx">data</span><span class="o">/</span><span class="nx">web</span><span class="p">;</span>
<span class="nx">autoindex</span><span class="w"> </span><span class="nx">off</span><span class="p">;</span>
<span class="nx">charset</span><span class="w"> </span><span class="nx">utf</span><span class="o">-</span><span class="mi">8</span><span class="p">;</span>
<span class="nx">autoindex_exact_size</span><span class="w"> </span><span class="nx">off</span><span class="p">;</span>

<span class="nx">location</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">try_files</span><span class="w"> </span><span class="err">$</span><span class="nx">uri</span><span class="w"> </span><span class="err">$</span><span class="nx">uri</span><span class="o">/</span><span class="w"> </span><span class="p">=</span><span class="mi">404</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">location</span><span class="w"> </span><span class="o">/</span><span class="nx">simple</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="nx">Required</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nx">simple</span><span class="w"> </span><span class="nx">index</span><span class="w"> </span><span class="nx">files</span><span class="w"> </span><span class="p">(</span><span class="k">like</span><span class="w"> </span><span class="o">/</span><span class="nx">simple</span><span class="o">/</span><span class="kn">package</span><span class="o">-</span><span class="nx">name</span><span class="p">)</span>
<span class="w">    </span><span class="nx">try_files</span><span class="w"> </span><span class="err">$</span><span class="nx">uri</span><span class="w"> </span><span class="err">$</span><span class="nx">uri</span><span class="o">/</span><span class="w"> </span><span class="p">=</span><span class="mi">404</span><span class="p">;</span>
<span class="p">}</span>

<span class="err">#</span><span class="w"> </span><span class="nx">Add</span><span class="w"> </span><span class="nx">caching</span><span class="w"> </span><span class="nx">headers</span><span class="w"> </span><span class="p">(</span><span class="nx">optional</span><span class="p">,</span><span class="w"> </span><span class="nx">helps</span><span class="w"> </span><span class="nx">with</span><span class="w"> </span><span class="nx">performance</span><span class="p">)</span>
<span class="nx">location</span><span class="w"> </span><span class="o">~*</span><span class="w"> </span><span class="err">\</span><span class="p">.(</span><span class="nx">whl</span><span class="o">|</span><span class="nx">tar</span><span class="err">\</span><span class="p">.</span><span class="nx">gz</span><span class="o">|</span><span class="nx">zip</span><span class="p">)</span><span class="err">$</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">expires</span><span class="w"> </span><span class="mi">30</span><span class="nx">d</span><span class="p">;</span>
<span class="w">    </span><span class="nx">add_header</span><span class="w"> </span><span class="nx">Cache</span><span class="o">-</span><span class="nx">Control</span><span class="w"> </span><span class="s">&quot;public&quot;</span><span class="p">;</span>
<span class="p">}</span>

<span class="err">#</span><span class="w"> </span><span class="nx">Enable</span><span class="w"> </span><span class="nx">gzip</span><span class="w"> </span><span class="nx">compression</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nx">faster</span><span class="w"> </span><span class="nx">responses</span>
<span class="nx">gzip</span><span class="w"> </span><span class="nx">on</span><span class="p">;</span>
<span class="nx">gzip_types</span><span class="w"> </span><span class="nx">text</span><span class="o">/</span><span class="nx">plain</span><span class="w"> </span><span class="nx">application</span><span class="o">/</span><span class="nx">xml</span><span class="w"> </span><span class="nx">application</span><span class="o">/</span><span class="nx">json</span><span class="p">;</span>
<span class="nx">gzip_proxied</span><span class="w"> </span><span class="nx">any</span><span class="p">;</span>

<span class="err">#</span><span class="w"> </span><span class="nx">Logging</span><span class="w"> </span><span class="p">(</span><span class="nx">optional</span><span class="p">)</span>
<span class="nx">access_log</span><span class="w"> </span><span class="o">/</span><span class="kd">var</span><span class="o">/</span><span class="nx">log</span><span class="o">/</span><span class="nx">nginx</span><span class="o">/</span><span class="nx">pypi_access</span><span class="p">.</span><span class="nx">log</span><span class="p">;</span>
<span class="nx">error_log</span><span class="w"> </span><span class="o">/</span><span class="kd">var</span><span class="o">/</span><span class="nx">log</span><span class="o">/</span><span class="nx">nginx</span><span class="o">/</span><span class="nx">pypi_error</span><span class="p">.</span><span class="nx">log</span><span class="p">;</span>
</code></pre></div>

<p>}</p>
<div class="codehilite"><pre><span></span><code><span class="nx">Note</span><span class="w"> </span><span class="nx">that</span><span class="w"> </span><span class="nx">it</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">good</span><span class="w"> </span><span class="nx">idea</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">have</span><span class="w"> </span><span class="nx">your</span><span class="w"> </span><span class="nx">webserver</span><span class="w"> </span><span class="nx">publish</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">HTML</span><span class="w"> </span><span class="nx">index</span><span class="w"> </span><span class="nx">files</span><span class="w"> </span><span class="nx">correctly</span><span class="w"> </span><span class="nx">with</span><span class="w"> </span><span class="err">`</span><span class="nx">UTF</span><span class="o">-</span><span class="mi">8</span><span class="err">`</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">charset</span><span class="p">.</span><span class="w"> </span>
<span class="nx">The</span><span class="w"> </span><span class="nx">index</span><span class="w"> </span><span class="nx">pages</span><span class="w"> </span><span class="nx">will</span><span class="w"> </span><span class="nx">work</span><span class="w"> </span><span class="nx">without</span><span class="w"> </span><span class="nx">it</span><span class="w"> </span><span class="nx">but</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nx">humans</span><span class="w"> </span><span class="nx">look</span><span class="w"> </span><span class="nx">at</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">pages</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">characters</span><span class="w"> </span><span class="nx">will</span><span class="w"> </span><span class="nx">end</span><span class="w"> </span><span class="nx">up</span><span class="w"> </span><span class="nx">looking</span><span class="w"> </span><span class="nx">funny</span><span class="p">.</span>

<span class="nx">Make</span><span class="w"> </span><span class="nx">sure</span><span class="w"> </span><span class="nx">that</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">webserver</span><span class="w"> </span><span class="nx">uses</span><span class="w"> </span><span class="nx">UTF</span><span class="o">-</span><span class="mi">8</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">look</span><span class="w"> </span><span class="nx">up</span><span class="w"> </span><span class="nx">Unicode</span><span class="w"> </span><span class="nx">path</span><span class="w"> </span><span class="nx">names</span><span class="p">.</span><span class="w"> </span><span class="err">`</span><span class="nx">nginx</span><span class="w"> </span><span class="nx">gets</span><span class="w"> </span><span class="nx">this</span><span class="w"> </span><span class="nx">right</span><span class="w"> </span><span class="nx">by</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="nx">sure</span><span class="w"> </span><span class="nx">about</span><span class="w"> </span><span class="nx">others</span><span class="err">`</span><span class="p">.</span>


<span class="p">&gt;</span><span class="w"> </span><span class="nx">By</span><span class="w"> </span><span class="k">default</span><span class="p">,</span><span class="w"> </span><span class="nx">pip</span><span class="w"> </span><span class="nx">only</span><span class="w"> </span><span class="nx">accept</span><span class="w"> </span><span class="nx">URL</span><span class="w"> </span><span class="nx">with</span><span class="w"> </span><span class="o">**</span><span class="nx">https</span><span class="o">**</span><span class="p">,</span><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="nx">your</span><span class="w"> </span><span class="nx">URL</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nx">HTTP</span><span class="p">,</span><span class="w"> </span><span class="nx">you</span><span class="w"> </span><span class="nx">will</span><span class="w"> </span><span class="nx">have</span><span class="w"> </span><span class="nx">many</span><span class="w"> </span><span class="nx">problems</span><span class="p">.</span><span class="w"> </span>
<span class="p">&gt;</span><span class="w"> </span><span class="nx">So</span><span class="w"> </span><span class="nx">we</span><span class="w"> </span><span class="nx">highly</span><span class="w"> </span><span class="nx">recommend</span><span class="w"> </span><span class="nx">you</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">add</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">certificate</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">your</span><span class="w"> </span><span class="nx">nginx</span><span class="w"> </span><span class="nx">config</span>

<span class="err">##</span><span class="w"> </span><span class="mi">4</span><span class="p">.</span><span class="w"> </span><span class="nx">Test</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">Bandersnatch</span><span class="w"> </span><span class="nx">installation</span>

<span class="err">```</span><span class="nx">shell</span>
<span class="nx">curl</span><span class="w"> </span><span class="nx">https</span><span class="p">:</span><span class="c1">//pypi.casd.local/simple</span>
</code></pre></div>

<p>If you see the responce, then the server is up and running</p>
<h2 id="5-configure-pip-to-use-the-private-repo">5 Configure pip to use the private repo<a class="headerlink" href="#5-configure-pip-to-use-the-private-repo" title="Permanent link">&para;</a></h2>
<p>pip uses a conf file to list all the hosts which it can download the packages, if your private repo is not in this list
pip will consider it as dangerous.</p>
<p>The configuration of pip is different based on the pip version and OS.</p>
<h3 id="51-temporary-config">5.1 Temporary Config<a class="headerlink" href="#51-temporary-config" title="Permanent link">&para;</a></h3>
<p>To test your pypi server, you can use the below command </p>
<div class="codehilite"><pre><span></span><code><span class="c1"># general form, --index-url specifies where to lookup packages index</span>
<span class="c1"># trusted-host: Marks your custom mirror as trusted. If your pypi server runs on http or the certificate is self-signed. It&#39;s mandatory to have this</span>
pip<span class="w"> </span>install<span class="w"> </span>&lt;package-name&gt;<span class="w"> </span>--index-url<span class="w"> </span>&lt;repo-url&gt;<span class="w"> </span>--trusted-host<span class="w"> </span>&lt;repo-domain&gt;

<span class="c1"># for example, if the repo domain is pypi.casd.local and the repo URL is https://pypi.casd.local/simple</span>
pip<span class="w"> </span>install<span class="w"> </span>pandas<span class="w"> </span>--index-url<span class="w"> </span>https://pypi.casd.local/simple<span class="w"> </span>--trusted-host<span class="w"> </span>pypi.casd.local
pip<span class="w"> </span>install<span class="w"> </span>ipykernel<span class="w"> </span>--index-url<span class="w"> </span>https://pypi.casd.local/simple<span class="w"> </span>--trusted-host<span class="w"> </span>pypi.casd.local
</code></pre></div>

<h3 id="52-permanent-config">5.2 Permanent Config<a class="headerlink" href="#52-permanent-config" title="Permanent link">&para;</a></h3>
<p>You can find the official pip config documentation <a href="https://pip.pypa.io/en/stable/topics/configuration/">here</a></p>
<h4 id="521-use-the-pipconf-recommended">5.2.1 Use the pip.conf (Recommended)<a class="headerlink" href="#521-use-the-pipconf-recommended" title="Permanent link">&para;</a></h4>
<p>pip has 3 levels of configuration files:</p>
<ul>
<li><code>global</code>: system-wide configuration file, shared across users. The path is <code>/etc/pip.conf</code></li>
<li><code>user</code>: per-user configuration file. </li>
<li><code>site</code>: per-environment configuration file; i.e. per-virtualenv.</li>
</ul>
<p>Below is an example of pip.conf. You need to place it in different path based on your requirements(e.g. global, user,)</p>
<div class="codehilite"><pre><span></span><code><span class="k">[global]</span>
<span class="na">timeout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">60</span>
<span class="na">index-url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">https://pypi.casd.local/simple</span>
<span class="na">trusted-host</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">pypi.casd.local</span>
</code></pre></div>

<h5 id="5211-linux-config">5.2.1.1 Linux config<a class="headerlink" href="#5211-linux-config" title="Permanent link">&para;</a></h5>
<p>The path of the pip config file in linux os:
 - <code>global</code>: <code>/etc/pip.conf</code>
 - <code>user</code>: <code>$HOME/.config/pip/pip.conf</code>
 - <code>site</code>: <code>path/to/venv/pip.conf</code></p>
<h5 id="5212-windows-path">5.2.1.2 windows path<a class="headerlink" href="#5212-windows-path" title="Permanent link">&para;</a></h5>
<p>The path of the pip config file in Windows os:
 - <code>global</code>: <code>C:\ProgramData\pip\pip.ini</code> (win7 and later, hidden but writeable)
 - <code>user</code>: <code>%APPDATA%\pip\pip.ini</code>
 - <code>site</code>: <code>%VIRTUAL_ENV%\pip.ini</code></p>
<h4 id="522-use-the-pip-cli">5.2.2 Use the pip CLI<a class="headerlink" href="#522-use-the-pip-cli" title="Permanent link">&para;</a></h4>
<p><code>pip</code> provides command line client which allows you to config pip. Base on the <code>pip</code> version, the command is a little
different.</p>
<h6 id="5221-for-pip-100">5.2.2.1  For pip &gt;= 10.0<a class="headerlink" href="#5221-for-pip-100" title="Permanent link">&para;</a></h6>
<div class="codehilite"><pre><span></span><code><span class="c1"># set the index server url</span>
pip<span class="w"> </span>config<span class="w"> </span><span class="nb">set</span><span class="w"> </span>global.index-url<span class="w"> </span>http://pypi.casd.local/simple<span class="w"> </span>

<span class="c1"># If the server is in HTTP, you need to add the below line to force pip to accept the domain</span>
pip<span class="w"> </span>config<span class="w"> </span><span class="nb">set</span><span class="w"> </span>global.trusted-host<span class="w"> </span>pypi.casd.local
</code></pre></div>

<h6 id="5222-for-older-version">5.2.2.2 For older version<a class="headerlink" href="#5222-for-older-version" title="Permanent link">&para;</a></h6>
<div class="codehilite"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>pip<span class="w"> </span>--index-url<span class="w"> </span>http://pypi.casd.local/simple<span class="w"> </span>--trusted-host<span class="w"> </span>pypi.casd.local
</code></pre></div>

<h5 id="523-use-the-env-var">5.2.3 Use the env var<a class="headerlink" href="#523-use-the-env-var" title="Permanent link">&para;</a></h5>
<p>For bash:</p>
<div class="codehilite"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">PIP_INDEX_URL</span><span class="o">=</span>http://pypi.yourdomain.com/simple
<span class="nb">export</span><span class="w"> </span><span class="nv">PIP_TRUSTED_HOST</span><span class="o">=</span>pypi.yourdomain.com
</code></pre></div>

<p>For cmd windows:</p>
<div class="codehilite"><pre><span></span><code><span class="nx">set</span><span class="w"> </span><span class="nx">PIP_INDEX_URL</span><span class="p">=</span><span class="nx">http</span><span class="p">:</span><span class="c1">//pypi.yourdomain.com/simple</span>
<span class="nx">set</span><span class="w"> </span><span class="nx">PIP_TRUSTED_HOST</span><span class="p">=</span><span class="nx">pypi</span><span class="p">.</span><span class="nx">yourdomain</span><span class="p">.</span><span class="nx">com</span>
</code></pre></div>

<p>For powershell windows:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">$env</span>:PIP_INDEX_URL<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;http://pypi.yourdomain.com/simple&quot;</span>
<span class="nv">$env</span>:PIP_TRUSTED_HOST<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;pypi.yourdomain.com&quot;</span>
</code></pre></div>

<h3 id="53-test-your-pip-config">5.3 Test your pip config<a class="headerlink" href="#53-test-your-pip-config" title="Permanent link">&para;</a></h3>
<p>After the configuration, you can check if your pip configuration</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># show all pip config</span>
pip<span class="w"> </span>config<span class="w"> </span>list
</code></pre></div>

<blockquote>
<p>note the pip config may be different from one venv to another.
 the best practice is to activate the venv then check the pip config</p>
</blockquote>
<h3 id="54-for-conda-virtual-env">5.4 For conda virtual env<a class="headerlink" href="#54-for-conda-virtual-env" title="Permanent link">&para;</a></h3>
<p>As conda also uses pip to install python packages, you can use the above pip config. </p>
<p>To locate where is the conda env, you can use the below command</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># step 1: find the virtual env root path</span>
conda<span class="w"> </span>info<span class="w"> </span>--envs
<span class="c1">## You should see below output</span>
<span class="c1"># conda environments:</span>
<span class="c1">#</span>
base<span class="w">                  </span>*<span class="w">  </span>/home/pengfei/anaconda3
PyQT-CRUD-App<span class="w">            </span>/home/pengfei/anaconda3/envs/PyQT-CRUD-App

<span class="c1"># step 2: create the pip.conf file</span>
vim<span class="w"> </span>/home/pengfei/anaconda3/envs/PyQT-CRUD-App/pip.conf

<span class="c1"># step3: add content to pip.conf</span>
<span class="o">[</span>global<span class="o">]</span>
index-url<span class="w"> </span><span class="o">=</span><span class="w"> </span>https://pengfei.org/simple
trusted-host<span class="w"> </span><span class="o">=</span><span class="w"> </span>pengfei.org

<span class="c1"># step4: check the conf</span>
conda<span class="w"> </span>activate<span class="w"> </span>PyQT-CRUD-App

pip<span class="w"> </span>config<span class="w"> </span>list
<span class="c1"># you should see below output</span>
global.index-url<span class="o">=</span><span class="s1">&#39;https://pengfei.org/simple&#39;</span>
global.trusted-host<span class="o">=</span><span class="s1">&#39;pengfei.org&#39;</span>
</code></pre></div>

<h2 id="6-troubles-in-bandersnatch">6. Troubles in bandersnatch<a class="headerlink" href="#6-troubles-in-bandersnatch" title="Permanent link">&para;</a></h2>
<h3 id="61-mirrored-files">6.1 mirrored-files<a class="headerlink" href="#61-mirrored-files" title="Permanent link">&para;</a></h3>
<p>Each time when you run <strong>bandersnatch mirror</strong> command, it will create a file called <strong>mirrored-files</strong> in the current directory.</p>
<p>If you changed directory and run <strong>bandersnatch mirror</strong> command again, it will not be able to locate previous <strong>mirrored-files</strong>. 
And it will not start the mirror process. As a result, no change will make.</p>
<p>You can use the command <strong>bandersnatch mirror --force-check</strong> to overcome this. But sometimes, it does not work, 
you need to remove the wrongly generated <strong>mirrored-files</strong> file, then rerun <strong>bandersnatch mirror --force-check</strong></p>
<h3 id="62-no-auto-dependencies-checks">6.2 No auto dependencies checks<a class="headerlink" href="#62-no-auto-dependencies-checks" title="Permanent link">&para;</a></h3>
<p>There is no automatic dependencies checks. For example in the allow_list, if I put <strong>pandas</strong>, bandersnatch 
will only mirror the package source or wheel file of pandas. All the pandas dependencies (e.g. python-dateutil, numpy, six) 
will not be mirrored. When you installed, pip will show the error that it can find numpy, etc.</p>
<p>So we need to determine the dependencies manually and add all dependencies to the allow_list.  </p>
<p>The maintainer of the bandersnatch said, <strong>this will not be fixed</strong>. https://github.com/pypa/bandersnatch/issues/1472</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.instant", "search.suggest", "search.highlight"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>