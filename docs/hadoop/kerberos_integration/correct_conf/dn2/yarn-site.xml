<?xml version="1.0" encoding="UTF-8"?>
<configuration>
    <!-- basic config for yarn to run -->
    <property>
        <name>yarn.resourcemanager.hostname</name>
        <value>deb13-spark1.casdds.casd</value>
        <description>Hostname of the ResourceManager.</description>
    </property>
    <property>
        <name>yarn.nodemanager.aux-services</name>
        <value>mapreduce_shuffle</value>
        <description>Auxiliary services for NodeManager.</description>
    </property>
    <property>
        <name>yarn.nodemanager.aux-services.mapreduce.shuffle.class</name>
        <value>org.apache.hadoop.mapred.ShuffleHandler</value>
    </property>
    <property>
        <name>yarn.scheduler.minimum-allocation-mb</name>
        <value>128</value>
        <description>Minimum container memory allocation.</description>
    </property>
    <property>
        <name>yarn.scheduler.maximum-allocation-mb</name>
        <value>2048</value>
        <description>Maximum container memory (12GB per worker).</description>
    </property>
    <property>
        <name>yarn.nodemanager.resource.memory-mb</name>
        <value>2048</value>
        <description>Total memory available to NodeManager (12GB).</description>
    </property>
    <property>
        <name>yarn.nodemanager.vmem-pmem-ratio</name>
        <value>2.1</value>
        <description>Virtual memory ratio.</description>
    </property>

    <!-- kerberos config: NodeManager identity -->
    <property>
        <name>yarn.nodemanager.principal</name>
        <value>hdfs/_HOST@CASDDS.CASD</value>
    </property>

    <property>
        <name>yarn.nodemanager.keytab</name>
        <value>/etc/krb5.keytab</value>
    </property>
    <!-- kerberos config: ResourceManager identity -->
    <property>
        <name>yarn.resourcemanager.principal</name>
        <value>hdfs/deb13-spark1.casdds.casd@CASDDS.CASD</value>
    </property>

    <!-- kerberos config: Secure container executor -->
    <property>
        <name>yarn.nodemanager.container-executor.class</name>
        <value>org.apache.hadoop.yarn.server.nodemanager.LinuxContainerExecutor</value>
    </property>
    <!-- this group must match the group in container-executor.cfg -->
    <property>
        <name>yarn.nodemanager.linux-container-executor.group</name>
        <value>hadoop</value>
    </property>

    <!-- Web UI SPNEGO -->
    <property>
        <name>yarn.nodemanager.webapp.spnego-principal</name>
        <value>HTTP/_HOST@CASDDS.CASD</value>
    </property>

    <property>
        <name>yarn.nodemanager.webapp.spnego-keytab</name>
        <value>/etc/krb5.keytab</value>
    </property>

    <!-- HTTPS -->
    <property>
        <name>yarn.http.policy</name>
        <value>HTTPS_ONLY</value>
    </property>

</configuration>
