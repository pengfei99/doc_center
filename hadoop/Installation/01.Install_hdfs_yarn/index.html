
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../basic/02.yarn_introduction/">
      
      
        <link rel="next" href="../02.Install_spark_on_yarn/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>install hdfs yarn - Pengfei Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#install-hdfshadoop-on-debian-11" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Pengfei Documentation" class="md-header__button md-logo" aria-label="Pengfei Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Pengfei Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              install hdfs yarn
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Pengfei Documentation" class="md-nav__button md-logo" aria-label="Pengfei Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Pengfei Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    admin_sys
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    admin_sys
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    core
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    core
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/core/debian_admin_cheat_sheet/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    debian_admin_cheat_sheet
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/core/Cron_jobs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    cron_jobs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/core/Systemd%28serviced%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    systemd(serviced) in linux
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/core/Time_Synchronization_in_Debian/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    time_synchronization_in_debian
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    db_management
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    db_management
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_2_1" id="__nav_2_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    mariadb
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    mariadb
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/db_management/mariadb/Installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/db_management/mariadb/Management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2_2" id="__nav_2_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    postgres
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    postgres
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/db_management/postgres/Install_postgresql/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    installation bare_metal
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/db_management/postgres/Install_postgres_via_helm_chart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    installation on k8s
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    fs
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    fs
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_1" >
        
          
          <label class="md-nav__link" for="__nav_2_3_1" id="__nav_2_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Minio
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Minio
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/fs/Minio/01.Introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/fs/Minio/02.Install_minio_bare_metal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    installation bare_metal
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/fs/Minio/03.Install_and_config_minio_client/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    install_and config minio client
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/fs/Minio/04.Minio_installation_details/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    minio_installation_details
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_2" >
        
          
          <label class="md-nav__link" for="__nav_2_3_2" id="__nav_2_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    NFS
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    NFS
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/fs/NFS/Install_nfs_server_client/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3_3" id="__nav_2_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Rook_Ceph
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Rook_Ceph
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/fs/Rook_Ceph/rook_ceph_Installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    rook_ceph_installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/fs/Rook_Ceph/Rook_Ceph_toolbox_and_dashboard/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    dashboard
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    os_setup
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    os_setup
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/os_setup/01.Lang_support/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    server language support
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/os_setup/02.Add_debian_backports_repo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    debian backports repo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/os_setup/03.Remote_Desktop_access/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    debian server rdp access
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/os_setup/05.Debian_security_update_automation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    debian server security update automation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/os_setup/06.Accept_private_ca_certificate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    debian server accept private ca cert
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/os_setup/07.Setup_shared_folder/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configure a shared folder in debian
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/os_setup/08.Debian_upgrade/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Migrate debian 11 to 13
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/os_setup/Install_configure_Postfix_to_sendmail/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Use postfix to sendmail
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_9" >
        
          
          <label class="md-nav__link" for="__nav_2_4_9" id="__nav_2_4_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    auto_config
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    auto_config
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_9_1" >
        
          
          <label class="md-nav__link" for="__nav_2_4_9_1" id="__nav_2_4_9_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    ansible
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_4_9_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4_9_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    ansible
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/os_setup/auto_config/ansible/Install_ansible_debian/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    install_ansible
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/os_setup/auto_config/ansible/ansible_roles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ansible roles
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_10" >
        
          
          <label class="md-nav__link" for="__nav_2_4_10" id="__nav_2_4_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    package_management
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    package_management
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/os_setup/package_management/01.Install_deb_files/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    install package via deb files
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/os_setup/package_management/02.Install_aptly_to_build_debian_repo_server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    build private package mirrors with aptly
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/os_setup/package_management/03.Configure_aptly/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    config aptly
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/os_setup/package_management/02.Use_private_repo_in_debian.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    use private package repo in debian
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_11" >
        
          
          <label class="md-nav__link" for="__nav_2_4_11" id="__nav_2_4_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    security
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    security
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/os_setup/security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Summary
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/os_setup/security/01.Configure_ssh_local_account/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configure_ssh_local_account
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/os_setup/security/02.Configure_ssh_pam_ldap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configure_ssh_pam_ldap
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/os_setup/security/03.Configure_ssh_sssd_ldap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configure ssh sssd ldap
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/os_setup/security/04.Configure_ssh_pam_sssd_ad_en/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configure_ssh_sssd_ad
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/os_setup/security/05.Static_uid_gid_integration_in_sssd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Static_uid_gid_integration_in_sssd
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/os_setup/security/06.Configure_ssh_sssd_kerberos_linux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configure_ssh_sssd_kerberos_linux
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    other_services
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    other_services
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/other_services/build_openssl_tool/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    build_openssl_tool
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/other_services/install_gitlab_ce/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    install_gitlab_ce
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/other_services/install_vscode_server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    install_vscode_server
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5_4" >
        
          
          <label class="md-nav__link" for="__nav_2_5_4" id="__nav_2_5_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Nginx
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Nginx
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/other_services/Nginx/01.Install_Nginx/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/other_services/Nginx/02.Enable_https_resolution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Enable_https_and_auto_redirect
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adminsys/other_services/Nginx/03.Use_Nginx_as_Http_load_balancer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Use_nginx_as_load_balancer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    container
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    container
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Containerd
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Containerd
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../container/Containerd/01.Introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../container/Containerd/02.Install_config_containerd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Docker and Docker compose
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Docker and Docker compose
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../container/Docker/01.Install_docker_dockerCompose/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../container/Docker/02.Use_docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Use docker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../container/Docker/03.Use_docker_compose/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Use docker compose
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../container/Helm_chart_registry/01.Deploy_a_helm_chart_registry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    helm chart registry
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    container image registry
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    container image registry
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4_1" >
        
          
          <label class="md-nav__link" for="__nav_3_4_1" id="__nav_3_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Docker
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Docker
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../container/Image_registry/Docker/02.Docker_engine_installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Docker engine installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../container/Image_registry/Docker/03.Docker_common_commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Docker common commands
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4_2" >
        
          
          <label class="md-nav__link" for="__nav_3_4_2" id="__nav_3_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    harbor
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    harbor
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../container/Image_registry/harbor/01.Introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../container/Image_registry/harbor/02.Harbor_installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Harbor installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../container/Image_registry/harbor/03.Harbor_helm_chart_management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Harbor helm chart management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../container/Image_registry/harbor/Harbor_export_import_image/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Harbor export import image
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../container/Image_registry/Introduction_of_private_image_registry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction of private image registry
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../container/Image_registry/04.Use_private_image_registry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configure container runtime to use private image registry
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../container/Image_registry/Image_secu_inspection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Image_secu_inspection
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../container/Image_registry/Trivy_image_scanner/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Image_vulnerability_scanner
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    k8s
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    k8s
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5_1" >
        
          
          <label class="md-nav__link" for="__nav_3_5_1" id="__nav_3_5_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    deploy_k8s_with_kubeadm
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    deploy_k8s_with_kubeadm
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../container/k8s/deploy_k8s_with_kubeadm/01.Introduction_of_Kubeadm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction of kubeadm
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../container/k8s/deploy_k8s_with_kubeadm/02.Deploy_k8s_cluster_online/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Deploy k8s with kubeadm
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../container/k8s/deploy_k8s_with_kubeadm/03.K8s_cluster_management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Manage k8s with kubeadm
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../container/k8s/deploy_k8s_with_kubeadm/04.Post_k8s_cluster_installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Post installation config
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5_2" >
        
          
          <label class="md-nav__link" for="__nav_3_5_2" id="__nav_3_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    deploy_k8s_offline
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    deploy_k8s_offline
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../container/k8s/deploy_k8s_offline/02.Prepare_env_for_installing_k8s_offline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Prepare server
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../container/k8s/deploy_k8s_offline/03.Install_k8s_offline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    install k8s offline
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5_3" >
        
          
          <label class="md-nav__link" for="__nav_3_5_3" id="__nav_3_5_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    k8s_client_setup
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    k8s_client_setup
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../container/k8s/k8s_client_setup/01.Install_kubectl_and_helm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Install kubectl and helm
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../container/k8s/k8s_client_setup/02.Helm_introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction of helm
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../container/k8s/k8s_client_setup/03.Helm_use_private_repo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configure helm client to use private repo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5_4" >
        
          
          <label class="md-nav__link" for="__nav_3_5_4" id="__nav_3_5_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    k8s_security
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    k8s_security
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../container/k8s/k8s_security/01.K8s_security_best_practices/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    k8s security best practices
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../container/k8s/k8s_security/06.k8s_security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    k8s network security
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../container/k8s/01.Introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction of k8s
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../container/k8s/04.Managing_k8s_certificate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Managing k8s certificate
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../container/k8s/05.k8s_cluster_supervision/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    K8s_cluster_supervision
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../container/k8s/Debug_application_in_cluster_k8s/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Debug_deployed_app_in_k8s
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../container/k8s/k8s_cluster_upgrade/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    k8s_cluster_upgrade
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    data_management
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    data_management
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../data_management/tuning.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tuning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../data_management/faq.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FAQ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    dev_ops
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    dev_ops
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../devops/install.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../devops/config.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    hadoop
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    hadoop
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1" >
        
          
          <label class="md-nav__link" for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    basic
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    basic
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../basic/01.hdfs_introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    hdfs introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../basic/02.yarn_introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    yarn introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" checked>
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    installation
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    installation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    install hdfs yarn
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    install hdfs yarn
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#0-prepare-the-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      
        0. Prepare the cluster.
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="0. Prepare the cluster.">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#01-set-server-hostname" class="md-nav__link">
    <span class="md-ellipsis">
      
        0.1 Set server hostname
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#02-create-an-account-for-hadoop-related-service-on-all-three-servers" class="md-nav__link">
    <span class="md-ellipsis">
      
        0.2 Create an account for hadoop related service on all three servers
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#03-synchronize-server-time" class="md-nav__link">
    <span class="md-ellipsis">
      
        0.3 Synchronize server time.
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-prepare-ssh-connexions" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Prepare ssh connexions
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-install-and-setup-java" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Install and setup java
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Install and setup java">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-the-package" class="md-nav__link">
    <span class="md-ellipsis">
      
        Install the package
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-java" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configure java
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-download-the-hadoop-binary-and-config" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Download the hadoop binary and config
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-configure-the-hadoop-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Configure the hadoop cluster
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Configure the hadoop cluster">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-configure-hdfs" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.1 Configure hdfs
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.1 Configure hdfs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hadoop-envsh" class="md-nav__link">
    <span class="md-ellipsis">
      
        hadoop-env.sh
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-core-sitexml" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2 core-site.xml
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-hdfs-sitexml" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3 hdfs-site.xml
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#44-yarn-sitexml" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4 yarn-site.xml
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#45-mapred-sitexml" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.5 mapred-site.xml
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-create-master-and-worker-files" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Create master and worker files
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-startstop-the-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. start/stop the cluster
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-test-the-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. test the cluster
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-optimize-the-yarn-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. Optimize the yarn configuration
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Optimize the yarn configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81-enriched-yarn-sitexml" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.1 Enriched yarn-site.xml
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-enriched-mapred-sitexml" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.2 Enriched mapred-site.xml
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83-capacity-scheduler" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.3 Capacity Scheduler
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#84-start-the-yarn-service" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.4 Start the yarn service
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-useful-url" class="md-nav__link">
    <span class="md-ellipsis">
      
        9. Useful url
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02.Install_spark_on_yarn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    install spark on yarn
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
        
          
          <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    kerberos integration
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    kerberos integration
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kerberos_integration/Integrate_kerberos_in_hadoop_cluster/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Integrate kerberos in hadoop cluster
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kerberos_integration/Configure_spark_on_kerberosized_hadoop_cluster/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configure spark on kerberos hadoop
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" >
        
          
          <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    cluster clients
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    cluster clients
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cluster_clients/01.Install_hdfs_clients/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    hdfs client
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cluster_clients/02.Install_R_studio_desktop/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    rstudio desktop
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cluster_clients/03.Install_R_studio_server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    rstudio server
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Onyxia
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Onyxia
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Onyxia/03.Install_onyxia/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Install onyxia
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    python
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    python
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1" >
        
          
          <label class="md-nav__link" for="__nav_8_1" id="__nav_8_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    pypi_mirror
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    pypi_mirror
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/pypi_server/01.introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/04.Install_python_debian/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    install python interpreter in debian
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    security
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    security
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_1" >
        
          
          <label class="md-nav__link" for="__nav_9_1" id="__nav_9_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Kerberos
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Kerberos
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../security/kerberos/01.Introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    01.Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../security/kerberos/02.Install_kerberos_server_client_for_debian_server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    02.Install_kerberos_client_server
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../security/kerberos/03.Configure_kerberos_to_use_ldap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    03.Configure_kerberos_to_use_ldap
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../security/kerberos/04.Install_kerberos_server_client_for_windows_server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    04.Install_kerberos_server_client_for_windows
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../security/kerberos/05.Configure_sssd_to_use_static_uid_gid/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    05.Configure_sssd_to_use_static_uid_gid
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../security/kerberos/Keytab_introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    06.Keytab_introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_2" >
        
          
          <label class="md-nav__link" for="__nav_9_2" id="__nav_9_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    keycloak
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    keycloak
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../security/keycloak/Install_keycloak/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Install_keycloak
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_3" >
        
          
          <label class="md-nav__link" for="__nav_9_3" id="__nav_9_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    ldap
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    ldap
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../security/ldap/01.install_ldap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Install_ldap
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#0-prepare-the-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      
        0. Prepare the cluster.
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="0. Prepare the cluster.">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#01-set-server-hostname" class="md-nav__link">
    <span class="md-ellipsis">
      
        0.1 Set server hostname
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#02-create-an-account-for-hadoop-related-service-on-all-three-servers" class="md-nav__link">
    <span class="md-ellipsis">
      
        0.2 Create an account for hadoop related service on all three servers
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#03-synchronize-server-time" class="md-nav__link">
    <span class="md-ellipsis">
      
        0.3 Synchronize server time.
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-prepare-ssh-connexions" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Prepare ssh connexions
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-install-and-setup-java" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Install and setup java
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Install and setup java">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-the-package" class="md-nav__link">
    <span class="md-ellipsis">
      
        Install the package
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-java" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configure java
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-download-the-hadoop-binary-and-config" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Download the hadoop binary and config
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-configure-the-hadoop-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Configure the hadoop cluster
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Configure the hadoop cluster">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-configure-hdfs" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.1 Configure hdfs
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.1 Configure hdfs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hadoop-envsh" class="md-nav__link">
    <span class="md-ellipsis">
      
        hadoop-env.sh
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-core-sitexml" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2 core-site.xml
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-hdfs-sitexml" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3 hdfs-site.xml
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#44-yarn-sitexml" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4 yarn-site.xml
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#45-mapred-sitexml" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.5 mapred-site.xml
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-create-master-and-worker-files" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Create master and worker files
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-startstop-the-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. start/stop the cluster
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-test-the-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. test the cluster
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-optimize-the-yarn-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. Optimize the yarn configuration
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Optimize the yarn configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81-enriched-yarn-sitexml" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.1 Enriched yarn-site.xml
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-enriched-mapred-sitexml" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.2 Enriched mapred-site.xml
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83-capacity-scheduler" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.3 Capacity Scheduler
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#84-start-the-yarn-service" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.4 Start the yarn service
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-useful-url" class="md-nav__link">
    <span class="md-ellipsis">
      
        9. Useful url
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="install-hdfshadoop-on-debian-11">Install hdfs(hadoop) on debian 11<a class="headerlink" href="#install-hdfshadoop-on-debian-11" title="Permanent link">&para;</a></h1>
<p><strong>The config of the hdfs cluster in this tutorial is the minimum config to run the cluster. It should be never used
in a production environment.</strong></p>
<h2 id="0-prepare-the-cluster">0. Prepare the cluster.<a class="headerlink" href="#0-prepare-the-cluster" title="Permanent link">&para;</a></h2>
<p>In this tutorial, we will use a cluster of 3 server:
- 10.50.6.103: spark-m01
- 10.50.6.104: spark-w01
- 10.50.6.105: spark-w02</p>
<h3 id="01-set-server-hostname">0.1 Set server hostname<a class="headerlink" href="#01-set-server-hostname" title="Permanent link">&para;</a></h3>
<p>To set the hostname on each server, you can use below command
<div class="highlight"><pre><span></span><code><span class="c1"># the general form is </span>
hostnamectl<span class="w"> </span>set-hostname<span class="w"> </span>&lt;new-hostname&gt;

<span class="c1"># in our case</span>
hostnamectl<span class="w"> </span>set-hostname<span class="w"> </span>spark-m01

<span class="c1"># set the value for /etc/hosts</span>
vim<span class="w"> </span>/etc/hosts
<span class="c1"># remove the default host config if there are any, it may cause the datanode unable to connect to the namenode </span>
<span class="m">127</span>.0.0.1<span class="w"> </span>spark-m01.casd.local<span class="w">  </span>spark-m01

<span class="c1"># add the below lines</span>
<span class="m">10</span>.50.6.103<span class="w">     </span>spark-m01.casd.local<span class="w">    </span>spark-m01
<span class="m">10</span>.50.6.104<span class="w">     </span>spark-w01.casd.local<span class="w">    </span>spark-w01
<span class="m">10</span>.50.6.105<span class="w">     </span>spark-w02.casd.local<span class="w">    </span>spark-w02

<span class="c1"># test the hostname, run below command on each server</span>
hostname<span class="w"> </span>

<span class="c1"># test the connectivity, run below command on each server</span>
ping<span class="w"> </span>spark-m01.casd.local
</code></pre></div></p>
<h3 id="02-create-an-account-for-hadoop-related-service-on-all-three-servers">0.2 Create an account for hadoop related service on all three servers<a class="headerlink" href="#02-create-an-account-for-hadoop-related-service-on-all-three-servers" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># create a group called hadoop with gid 2001</span>
sudo<span class="w"> </span>groupadd<span class="w"> </span>-g<span class="w"> </span><span class="m">2001</span><span class="w"> </span>hadoop

<span class="c1"># create a user account hadoop, the home folder is /opt/hadoop, the default shell is bash</span>
sudo<span class="w"> </span>useradd<span class="w"> </span>-g<span class="w"> </span>hadoop<span class="w"> </span>-u<span class="w"> </span><span class="m">998</span><span class="w">  </span>-r<span class="w"> </span>hadoop<span class="w"> </span>-m<span class="w"> </span>-d<span class="w"> </span>/opt/hadoop<span class="w"> </span>--shell<span class="w"> </span>/bin/bash

<span class="c1"># login as hadoop</span>
sudo<span class="w"> </span>su<span class="w"> </span>-l<span class="w"> </span>hadoop
</code></pre></div>
<h3 id="03-synchronize-server-time">0.3 Synchronize server time.<a class="headerlink" href="#03-synchronize-server-time" title="Permanent link">&para;</a></h3>
<p>If you already have a ntp server in your organization, use it. Don't install your own, because if your cluster must 
receive queries from other server which use another ntp, the time cap will create many problems.
For example, <code>spark submit</code> on my cluster always receive a timeout, because of this.</p>
<p>You can follow this tutorial <a href="../../../adminsys/core/Time_Synchronization_in_Debian/">Sync_time_in_debian.md</a> to sync time.</p>
<h2 id="1-prepare-ssh-connexions">1. Prepare ssh connexions<a class="headerlink" href="#1-prepare-ssh-connexions" title="Permanent link">&para;</a></h2>
<p>For the name node, generate an ssh key</p>
<div class="highlight"><pre><span></span><code><span class="c1"># generate a ssh key pair</span>
ssh-keygen<span class="w"> </span>-t<span class="w"> </span>rsa

<span class="c1"># add the public key as the authorized key</span>
cat<span class="w"> </span>~/.ssh/id_rsa.pub<span class="w"> </span>&gt;<span class="w"> </span>~/.ssh/authorized_keys
</code></pre></div>
<p>For the data node, copy the ssh public key as the authorized key</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span>
mkdir<span class="w"> </span>.ssh
vim<span class="w"> </span>~/.ssh/authorized_keys
</code></pre></div>
<p>Test the ssh access</p>
<div class="highlight"><pre><span></span><code><span class="c1"># test locally on name node</span>
ssh<span class="w"> </span>localhost

<span class="c1"># test on the two data node</span>
ssh<span class="w"> </span>hadoop@spark-w01
ssh<span class="w"> </span>hadoop@spark-w02
</code></pre></div>
<h2 id="2-install-and-setup-java">2. Install and setup java<a class="headerlink" href="#2-install-and-setup-java" title="Permanent link">&para;</a></h2>
<p>You need to install the jre and jdk version which the hadoop requires.</p>
<p>In this tutorial, we choose hadoop 3.3.6</p>
<h3 id="install-the-package">Install the package<a class="headerlink" href="#install-the-package" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>update
sudo<span class="w"> </span>apt<span class="w"> </span>upgrade

<span class="c1"># install jre</span>
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>default-jre

<span class="c1"># install jdk</span>
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>default-jdk

<span class="c1"># test jre</span>
java<span class="w"> </span>-version

<span class="c1"># test jdk</span>
javac<span class="w"> </span>-version
</code></pre></div>
<h3 id="configure-java">Configure java<a class="headerlink" href="#configure-java" title="Permanent link">&para;</a></h3>
<p>If you have multiple java version, you need to set up the currently used java version as the hadoop version that 
requires. </p>
<div class="highlight"><pre><span></span><code><span class="c1"># choose the right jre version</span>
sudo<span class="w"> </span>update-alternatives<span class="w"> </span>--config<span class="w"> </span>java

<span class="c1"># choose the right jdk version</span>
sudo<span class="w"> </span>update-alternatives<span class="w"> </span>--config<span class="w"> </span>javac
</code></pre></div>
<p>Set <strong>JAVA_HOME</strong> path to the currently used jdk path. There are many ways to set the JAVA_HOME:
- In your own ~/.bashrc : the java config only works for you
- In /etc/profile.d/java.sh: The java config works for all users</p>
<p>We choose the second solution</p>
<div class="highlight"><pre><span></span><code><span class="c1"># create a file to the export</span>
sudo<span class="w"> </span>vim<span class="w"> </span>/etc/profile.d/java.sh

<span class="c1"># add below content, you may need to change the jdk path</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">JAVA_HOME</span><span class="o">=</span>/usr/lib/jvm/java-11-openjdk-amd64
<span class="c1"># this is optional, because the install or update-alternatives already add the java bin path to the PATH</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:<span class="nv">$JAVA_HOME</span>/bin

<span class="c1"># add the env var</span>
<span class="nb">source</span><span class="w"> </span>/etc/profile.d/java.sh

<span class="c1"># test the value</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$JAVA_HOME</span>
</code></pre></div>
<h2 id="3-download-the-hadoop-binary-and-config">3. Download the hadoop binary and config<a class="headerlink" href="#3-download-the-hadoop-binary-and-config" title="Permanent link">&para;</a></h2>
<p>You can get the latest hadoop release from this page. https://hadoop.apache.org/releases.html</p>
<p>In our case, we choose version <code>3.3.6</code>.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Unzip the tar ball to `/opt/hadoop`</span>
sudo<span class="w"> </span>tar<span class="w"> </span>-xzvf<span class="w"> </span>hadoop-3.3.6.tar.gz<span class="w"> </span>-C<span class="w"> </span>/opt/hadoop/<span class="w"> </span>--strip-components<span class="o">=</span><span class="m">1</span>

<span class="c1"># make sure the owner of the unzip files are hadoop:hadoop</span>
sudo<span class="w"> </span>chown<span class="w"> </span>-R<span class="w"> </span>hadoop:hadoop<span class="w"> </span>/opt/hadoop/
</code></pre></div>
<p>Configure the <code>HADOOP_HOME</code>:</p>
<p>Run the below command on the three servers</p>
<div class="highlight"><pre><span></span><code><span class="c1"># create a file to the export</span>
sudo<span class="w"> </span>vim<span class="w"> </span>/etc/profile.d/hadoop.sh

<span class="c1"># add below lines</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">HADOOP_HOME</span><span class="o">=</span>/opt/hadoop
<span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:<span class="nv">$HADOOP_HOME</span>/bin
<span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:<span class="nv">$HADOOP_HOME</span>/sbin
<span class="nb">export</span><span class="w"> </span><span class="nv">HADOOP_MAPRED_HOME</span><span class="o">=</span><span class="nv">$HADOOP_HOME</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">HADOOP_COMMON_HOME</span><span class="o">=</span><span class="nv">$HADOOP_HOME</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">HADOOP_HDFS_HOME</span><span class="o">=</span><span class="nv">$HADOOP_HOME</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">YARN_HOME</span><span class="o">=</span><span class="nv">$HADOOP_HOME</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">HADOOP_COMMON_LIB_NATIVE_DIR</span><span class="o">=</span><span class="nv">$HADOOP_HOME</span>/lib/native
<span class="nb">export</span><span class="w"> </span><span class="nv">HADOOP_OPTS</span><span class="o">=</span><span class="s2">&quot;-Djava.library.path=</span><span class="nv">$HADOOP_HOME</span><span class="s2">/lib&quot;</span>

<span class="c1"># Reload the environment variables</span>
<span class="nb">source</span><span class="w"> </span>/etc/profile.d/hadoop.sh
</code></pre></div>
<h2 id="4-configure-the-hadoop-cluster">4. Configure the hadoop cluster<a class="headerlink" href="#4-configure-the-hadoop-cluster" title="Permanent link">&para;</a></h2>
<p>As we know, the hadoop cluster has three parts:
- hdfs
- yarn
- mapreduce</p>
<p>Hadoop can be configured to run in a <code>single node</code> or <code>multi-node</code> cluster. In this tutorial, we only shows the multi
node cluster.</p>
<p>All the configuration files which we edit below are already existed. We only need to add few lines.</p>
<blockquote>
<p>All Hadoop processes run on a Java Virtual Machine (JVM).</p>
</blockquote>
<h3 id="41-configure-hdfs">4.1 Configure hdfs<a class="headerlink" href="#41-configure-hdfs" title="Permanent link">&para;</a></h3>
<p>There is a doc on how to configure hdfs written by cloudera
https://docs.cloudera.com/runtime/7.2.0/hdfs-overview/topics/hdfs-sizing-namenode-heap-memory.html</p>
<h4 id="hadoop-envsh">hadoop-env.sh<a class="headerlink" href="#hadoop-envsh" title="Permanent link">&para;</a></h4>
<p>This file is used to set various environment variables and options for Hadoop's execution. </p>
<p>Some important conf options: 
- <strong>JAVA_HOME</strong>: You can specify the path to the Java home directory if you want to use a specific Java installation.</p>
<ul>
<li>
<p><strong>HADOOP_OPTS</strong>: Additional Java options to be applied to all Hadoop commands.</p>
</li>
<li>
<p><strong>HADOOP_NAMENODE_OPTS, HADOOP_DATANODE_OPTS</strong>, and similar variables: These allow you to set JVM options specific to different Hadoop daemon processes like the NameNode, DataNode, etc.</p>
</li>
<li>
<p><strong>HADOOP_HEAPSIZE_MAX/MIN</strong>: Sets the maximum/minimum heap size for the JVM, usually in MB.</p>
</li>
<li>
<p><strong>HADOOP_LOG_DIR and HADOOP_MAPRED_LOG_DIR</strong>: Define the directories where log files are stored.</p>
</li>
<li>
<p><strong>HADOOP_CLASSPATH</strong>: Allows you to specify additional classpath elements if needed.</p>
</li>
<li>
<p><strong>PATH</strong>: It adds Hadoop's bin/ directory to the system PATH.</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code>vim<span class="w"> </span>etc/hadoop/hadoop-env.sh

<span class="c1"># In our case, we only add below lines</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">JAVA_HOME</span><span class="o">=</span>/usr/lib/jvm/java-11-openjdk-amd64

<span class="nb">export</span><span class="w"> </span><span class="nv">HADOOP_HEAPSIZE</span><span class="o">=</span><span class="m">4096</span><span class="w"> </span><span class="c1"># Set heap size to 4 GB for both NameNode and DataNode</span>

<span class="c1"># Set JVM options for NameNode</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">HADOOP_NAMENODE_OPTS</span><span class="o">=</span><span class="s2">&quot;-Xmx2048m -Xms2048m&quot;</span><span class="w"> </span><span class="c1"># Set initial and maximum heap size for NameNode</span>

<span class="c1"># Set JVM options for DataNode</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">HADOOP_DATANODE_OPTS</span><span class="o">=</span><span class="s2">&quot;-Xmx1024m -Xms1024m&quot;</span><span class="w"> </span><span class="c1"># Set initial and maximum heap size for DataNode</span>
</code></pre></div>
<blockquote>
<p>Xmx is the max heap memory, Xms is the initial head size</p>
</blockquote>
<h3 id="42-core-sitexml">4.2 core-site.xml<a class="headerlink" href="#42-core-sitexml" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># edit conf file </span>
vim<span class="w"> </span>etc/hadoop/core-site.xml

<span class="c1"># add the following lines</span>
&lt;property&gt;
<span class="w">        </span>&lt;name&gt;fs.defaultFS&lt;/name&gt;
<span class="w">        </span>&lt;value&gt;hdfs://10.50.5.67:9000&lt;/value&gt;
<span class="w">    </span>&lt;/property&gt;
</code></pre></div>
<h3 id="43-hdfs-sitexml">4.3 hdfs-site.xml<a class="headerlink" href="#43-hdfs-sitexml" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>dfs.datanode.data.dir/dfs.data.dir(old version)</strong> : Determines where on the local filesystem an DFS data node should store its blocks. If this is a 
 comma-delimited list of directories, then data will be stored in all named directories, typically on different devices. 
 Directories that do not exist are ignored.</p>
</li>
<li></li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1"># edit the conf file</span>
vim<span class="w"> </span>etc/hadoop/hdfs-site.xml.template

<span class="c1"># add the follwoing lines</span>
&lt;property&gt;
<span class="w">        </span>&lt;name&gt;dfs.replication&lt;/name&gt;
<span class="w">        </span>&lt;value&gt;3&lt;/value&gt;
<span class="w">    </span>&lt;/property&gt;
<span class="w">    </span>&lt;property&gt;
<span class="w">        </span>&lt;name&gt;dfs.namenode.name.dir&lt;/name&gt;
<span class="w">        </span>&lt;value&gt;file:///opt/hadoop/hadoop_tmp/hdfs/data&lt;/value&gt;
<span class="w">    </span>&lt;/property&gt;
<span class="w">    </span>&lt;property&gt;
<span class="w">        </span>&lt;name&gt;dfs.datanode.data.dir&lt;/name&gt;
<span class="w">        </span>&lt;value&gt;file:///opt/hadoop/hadoop_tmp/hdfs/data&lt;/value&gt;
<span class="w">    </span>&lt;/property&gt;

<span class="c1"># create the data folder if they do not exit yet</span>

/opt/hadoop/hadoop_tmp/hdfs/data
</code></pre></div>
<h3 id="44-yarn-sitexml">4.4 yarn-site.xml<a class="headerlink" href="#44-yarn-sitexml" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>&lt;configuration&gt;
<span class="w">    </span>&lt;property&gt;
<span class="w">        </span>&lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;
<span class="w">        </span>&lt;value&gt;mapreduce_shuffle&lt;/value&gt;
<span class="w">    </span>&lt;/property&gt;
<span class="w">    </span>&lt;property&gt;
<span class="w">        </span>&lt;name&gt;yarn.nodemanager.aux-services.mapreduce.shuffle.class&lt;/name&gt;
<span class="w">        </span>&lt;value&gt;org.apache.hadoop.mapred.ShuffleHandler&lt;/value&gt;
<span class="w">    </span>&lt;/property&gt;
<span class="w">    </span>&lt;property&gt;
<span class="w">       </span>&lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;
<span class="w">       </span>&lt;value&gt;10.50.5.67&lt;/value&gt;
<span class="w">    </span>&lt;/property&gt;
&lt;/configuration&gt;
</code></pre></div>
<h3 id="45-mapred-sitexml">4.5 mapred-site.xml<a class="headerlink" href="#45-mapred-sitexml" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>&lt;configuration&gt;
<span class="w">    </span>&lt;property&gt;
<span class="w">        </span>&lt;name&gt;mapreduce.jobtracker.address&lt;/name&gt;
<span class="w">        </span>&lt;value&gt;10.50.5.67:54311&lt;/value&gt;
<span class="w">    </span>&lt;/property&gt;
<span class="w">    </span>&lt;property&gt;
<span class="w">        </span>&lt;name&gt;mapreduce.framework.name&lt;/name&gt;
<span class="w">        </span>&lt;value&gt;yarn&lt;/value&gt;
<span class="w">    </span>&lt;/property&gt;
&lt;/configuration&gt;
</code></pre></div>
<h2 id="5-create-master-and-worker-files">5. Create master and worker files<a class="headerlink" href="#5-create-master-and-worker-files" title="Permanent link">&para;</a></h2>
<p>The <strong>master</strong> file is used by startup scripts of the hadoop cluster to identify the name node address. It's located 
at <code>~/hadoop/etc/hadoop/masters</code></p>
<div class="highlight"><pre><span></span><code><span class="c1"># we put the name node ip address</span>
<span class="m">10</span>.50.5.67
</code></pre></div>
<p>The <strong>workers</strong> file is used by startup scripts of the hadoop cluster to identify the data node address. It's located 
at <code>~/hadoop/etc/hadoop/workers</code></p>
<div class="highlight"><pre><span></span><code><span class="c1"># we put the data node ip address</span>
<span class="m">10</span>.50.5.68
<span class="m">10</span>.50.5.69
</code></pre></div>
<h2 id="6-startstop-the-cluster">6. start/stop the cluster<a class="headerlink" href="#6-startstop-the-cluster" title="Permanent link">&para;</a></h2>
<p>The hadoop provides a list of script which allows us to start and stop the cluster easily. You can find these scripts
in <code>/opt/hadoop/sbin</code></p>
<div class="highlight"><pre><span></span><code><span class="c1"># start the cluster</span>
./sbin/start-dfs.sh

<span class="c1"># you should see below outputs</span>
Starting<span class="w"> </span>namenodes<span class="w"> </span>on<span class="w"> </span><span class="o">[</span>k8s-master<span class="o">]</span>
Starting<span class="w"> </span>datanodes
Starting<span class="w"> </span>secondary<span class="w"> </span>namenodes<span class="w"> </span><span class="o">[</span>k8s-master<span class="o">]</span>

<span class="c1"># you can check the running java process</span>
jps

<span class="c1"># in master node, you should see</span>
<span class="m">138517</span><span class="w"> </span>NameNode
<span class="m">138757</span><span class="w"> </span>SecondaryNameNode
<span class="m">143035</span><span class="w"> </span>Jps

<span class="c1"># in data node, you should see</span>
<span class="m">88904</span><span class="w"> </span>DataNode
<span class="m">91423</span><span class="w"> </span>Jps
</code></pre></div>
<h2 id="7-test-the-cluster">7. test the cluster<a class="headerlink" href="#7-test-the-cluster" title="Permanent link">&para;</a></h2>
<p>You can open the web UI via <strong>http://10.50.5.67:9870/</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># some usefull command</span>
hdfs<span class="w"> </span>dfs<span class="w"> </span>-mkdir<span class="w"> </span>-p<span class="w"> </span>/dataset

<span class="c1"># copy files</span>
hdfs<span class="w"> </span>dfs<span class="w"> </span>-put<span class="w"> </span>localfile<span class="w"> </span>/dataset/remotefile

<span class="c1"># list files</span>
hdfs<span class="w"> </span>dfs<span class="w"> </span>-ls<span class="w"> </span>/dataset

<span class="c1"># list files recursively</span>
hdfs<span class="w"> </span>dfs<span class="w"> </span>-ls<span class="w"> </span>-r<span class="w"> </span>/dataset
</code></pre></div>
<h2 id="8-optimize-the-yarn-configuration">8. Optimize the yarn configuration<a class="headerlink" href="#8-optimize-the-yarn-configuration" title="Permanent link">&para;</a></h2>
<p>With the above config, we can run the hdfs. To run mapreduce with yarn, we need to add extra lines to two 
configuration files: <code>yarn-site.xml</code> and <code>mapred-site.xml</code></p>
<h3 id="81-enriched-yarn-sitexml">8.1 Enriched yarn-site.xml<a class="headerlink" href="#81-enriched-yarn-sitexml" title="Permanent link">&para;</a></h3>
<p>You can find the official doc on yarn config here https://hadoop.apache.org/docs/r3.0.1/hadoop-yarn/hadoop-yarn-common/yarn-default.xml</p>
<div class="highlight"><pre><span></span><code>&lt;configuration&gt;
<span class="w">    </span>&lt;property&gt;
<span class="w">        </span>&lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;
<span class="w">        </span>&lt;value&gt;mapreduce_shuffle&lt;/value&gt;
<span class="w">    </span>&lt;/property&gt;
<span class="w">    </span>&lt;property&gt;
<span class="w">        </span>&lt;name&gt;yarn.nodemanager.aux-services.mapreduce.shuffle.class&lt;/name&gt;
<span class="w">        </span>&lt;value&gt;org.apache.hadoop.mapred.ShuffleHandler&lt;/value&gt;
<span class="w">    </span>&lt;/property&gt;
<span class="w">    </span>&lt;property&gt;
<span class="w">       </span>&lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;
<span class="w">       </span>&lt;value&gt;10.50.5.67&lt;/value&gt;
<span class="w">    </span>&lt;/property&gt;

<span class="w">    </span>&lt;property&gt;
<span class="w">        </span>&lt;name&gt;yarn.nodemanager.resource.cpu-vcores&lt;/name&gt;
<span class="w">        </span>&lt;value&gt;2&lt;/value&gt;
<span class="w">    </span>&lt;/property&gt;
<span class="w">    </span>&lt;name&gt;yarn.nodemanager.resource.memory-mb&lt;/name&gt;
<span class="w">    </span>&lt;value&gt;2048&lt;/value&gt;
&lt;/property&gt;
&lt;property&gt;
<span class="w">    </span>&lt;name&gt;yarn.scheduler.maximum-allocation-mb&lt;/name&gt;
<span class="w">    </span>&lt;value&gt;2048&lt;/value&gt;
&lt;/property&gt;
&lt;property&gt;
<span class="w">    </span>&lt;name&gt;yarn.scheduler.minimum-allocation-mb&lt;/name&gt;
<span class="w">    </span>&lt;value&gt;512&lt;/value&gt;
&lt;/property&gt;


&lt;property&gt;
<span class="w">    </span>&lt;name&gt;yarn.nodemanager.vmem-check-enabled&lt;/name&gt;
<span class="w">    </span>&lt;value&gt;true&lt;/value&gt;
&lt;/property&gt;

&lt;property&gt;
<span class="w">  </span>&lt;name&gt;yarn.resourcemanager.scheduler.class&lt;/name&gt;
&lt;value&gt;org.apache.hadoop.yarn.server.resourcemanager.scheduler.capacity.CapacityScheduler&lt;/value&gt;
<span class="w"> </span>&lt;/property&gt;

&lt;/configuration&gt;
</code></pre></div>
<p>The following settings are set:</p>
<ul>
<li><strong>yarn.resourcemanager.hostname</strong>: The hostname for the ResourceManager</li>
<li><strong>yarn.nodemanager.resource.cpu-vcores</strong>: This conf used by the ResourceManager to limit the number of vcores that can allocated for containers. Does not limit the number of CPUs used by Yarn containers</li>
<li><strong>yarn.nodemanager.aux-services</strong>:  a list of services to use. In this case, use the MapReduce shuffle service</li>
<li><strong>yarn.nodemanager.resource.memory-mb</strong>:  amount of physical memory in MB that can be allocated for containers</li>
<li><strong>yarn.scheduler.maximum-allocation-mb</strong>: The maximum allocation for every container request at the ResourceManager in MB</li>
<li><strong>yarn.scheduler.minimum-allocation-mb</strong>:  The minium allocation for every container request at the ResourceManager in MB</li>
<li><strong>yarn.log-aggregation-enable</strong>:  log aggregation collects the containers logs and allows us to inspect them while developing/debugging.</li>
<li><strong>yarn.nodemanager.vmem-check-enabled</strong>: verify if the worker has the physical memory capacity to allow the conf works </li>
<li><strong>yarn.resourcemanager.scheduler.class</strong>: Use the capacity scheduler to replace the default scheduler. We will give more
  details on how to use the capacity scheduler to define queues and capacity of each queue(e.g. CPU, MEM, etc.)</li>
</ul>
<blockquote>
<p>This conf needs to be set on each worker node, the conf such as <strong>yarn.nodemanager.resource.memory-mb</strong>, 
  <strong>yarn.nodemanager.resource.cpu-vcores</strong> configure only the available memory and vcpu
  on the worker node, if we change it only on the master node, the worker node will have 0 effect. </p>
</blockquote>
<h3 id="82-enriched-mapred-sitexml">8.2 Enriched mapred-site.xml<a class="headerlink" href="#82-enriched-mapred-sitexml" title="Permanent link">&para;</a></h3>
<p>Normally the value of <code>HADOOP_MAPRED_HOME</code> is the same as <code>HADOOP_HOME</code></p>
<p>Here <code>10.50.5.67</code> is the ip address of the name node</p>
<div class="highlight"><pre><span></span><code>&lt;configuration&gt;
<span class="w">    </span>&lt;property&gt;
<span class="w">        </span>&lt;name&gt;mapreduce.jobtracker.address&lt;/name&gt;
<span class="w">        </span>&lt;value&gt;10.50.5.67:54311&lt;/value&gt;
<span class="w">    </span>&lt;/property&gt;

<span class="w">    </span>&lt;property&gt;
<span class="w">        </span>&lt;name&gt;mapreduce.framework.name&lt;/name&gt;
<span class="w">        </span>&lt;value&gt;yarn&lt;/value&gt;
<span class="w">    </span>&lt;/property&gt;

<span class="w">    </span>&lt;property&gt;
<span class="w">    </span>&lt;name&gt;yarn.app.mapreduce.am.resource.mb&lt;/name&gt;
<span class="w">    </span>&lt;value&gt;512&lt;/value&gt;
<span class="w">   </span>&lt;/property&gt;

<span class="w">   </span>&lt;property&gt;
<span class="w">    </span>&lt;name&gt;mapreduce.map.memory.mb&lt;/name&gt;
<span class="w">    </span>&lt;value&gt;256&lt;/value&gt;
<span class="w">   </span>&lt;/property&gt;

<span class="w">   </span>&lt;property&gt;
<span class="w">    </span>&lt;name&gt;mapreduce.reduce.memory.mb&lt;/name&gt;
<span class="w">    </span>&lt;value&gt;256&lt;/value&gt;
<span class="w">   </span>&lt;/property&gt;

<span class="w">   </span>&lt;property&gt;
<span class="w">    </span>&lt;name&gt;yarn.app.mapreduce.am.env&lt;/name&gt;
<span class="w">    </span>&lt;value&gt;HADOOP_MAPRED_HOME<span class="o">=</span><span class="nv">$HADOOP_MAPRED_HOME</span>&lt;/value&gt;
<span class="w">   </span>&lt;/property&gt;

<span class="w">   </span>&lt;property&gt;
<span class="w">    </span>&lt;name&gt;mapreduce.map.env&lt;/name&gt;
<span class="w">    </span>&lt;value&gt;HADOOP_MAPRED_HOME<span class="o">=</span><span class="nv">$HADOOP_MAPRED_HOME</span>&lt;/value&gt;
<span class="w">   </span>&lt;/property&gt;

<span class="w">   </span>&lt;property&gt;
<span class="w">    </span>&lt;name&gt;mapreduce.reduce.env&lt;/name&gt;
<span class="w">    </span>&lt;value&gt;HADOOP_MAPRED_HOME<span class="o">=</span><span class="nv">$HADOOP_MAPRED_HOME</span>&lt;/value&gt;
<span class="w">   </span>&lt;/property&gt;
&lt;/configuration&gt;
</code></pre></div>
<h3 id="83-capacity-scheduler">8.3 Capacity Scheduler<a class="headerlink" href="#83-capacity-scheduler" title="Permanent link">&para;</a></h3>
<p>Yarn provides a pluggable scheduler for Hadoop which allows for multiple-tenants to securely share a large cluster 
such that their applications are allocated resources in a timely manner under constraints of allocated capacities.</p>
<p>You can find the full doc here.
https://hadoop.apache.org/docs/stable/hadoop-yarn/hadoop-yarn-site/CapacityScheduler.html#Setting_up_queues</p>
<p>Below is a minimum configuration example, which only has 1 queue called <strong>default</strong>. The <strong>default</strong> queue can use
100 percent of the resource of the cluster. </p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;configuration&gt;</span>
<span class="w">  </span><span class="nt">&lt;property&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>yarn.scheduler.capacity.root.queues<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;value&gt;</span>default<span class="nt">&lt;/value&gt;</span>
<span class="w">  </span><span class="nt">&lt;/property&gt;</span>
<span class="w">  </span><span class="nt">&lt;property&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>yarn.scheduler.capacity.root.default.capacity<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;value&gt;</span>100<span class="nt">&lt;/value&gt;</span>
<span class="w">  </span><span class="nt">&lt;/property&gt;</span>
<span class="w">  </span><span class="nt">&lt;property&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>yarn.scheduler.capacity.resource-calculator<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;value&gt;</span>org.apache.hadoop.yarn.util.resource.DominantResourceCalculator<span class="nt">&lt;/value&gt;</span>
<span class="w">  </span><span class="nt">&lt;/property&gt;</span>
<span class="nt">&lt;/configuration&gt;</span>
</code></pre></div>
<p>For a more complex config, below is an example. It has two queues: prod(80%) and dev(20%). Each queue has its own
job acl and admin acl</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;configuration&gt;</span>

<span class="w">  </span><span class="nt">&lt;property&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>yarn.scheduler.capacity.maximum-applications<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;value&gt;</span>10000<span class="nt">&lt;/value&gt;</span>
<span class="w">    </span><span class="nt">&lt;description&gt;</span>
<span class="w">      </span>Maximum<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>applications<span class="w"> </span>that<span class="w"> </span>can<span class="w"> </span>be<span class="w"> </span>pending<span class="w"> </span>and<span class="w"> </span>running.
<span class="w">    </span><span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;/property&gt;</span>

<span class="w">  </span><span class="nt">&lt;property&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>yarn.scheduler.capacity.maximum-am-resource-percent<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;value&gt;</span>0.1<span class="nt">&lt;/value&gt;</span>
<span class="w">    </span><span class="nt">&lt;description&gt;</span>
<span class="w">      </span>Maximum<span class="w"> </span>percent<span class="w"> </span>of<span class="w"> </span>resources<span class="w"> </span>in<span class="w"> </span>the<span class="w"> </span>cluster<span class="w"> </span>which<span class="w"> </span>can<span class="w"> </span>be<span class="w"> </span>used<span class="w"> </span>to<span class="w"> </span>run<span class="w"> </span>
<span class="w">      </span>application<span class="w"> </span>masters<span class="w"> </span>i.e.<span class="w"> </span>controls<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>concurrent<span class="w"> </span>running
<span class="w">      </span>applications.
<span class="w">    </span><span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;/property&gt;</span>

<span class="w">  </span><span class="nt">&lt;property&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>yarn.scheduler.capacity.resource-calculator<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;value&gt;</span>org.apache.hadoop.yarn.util.resource.DominantResourceCalculator<span class="nt">&lt;/value&gt;</span>
<span class="w">    </span><span class="nt">&lt;description&gt;</span>
<span class="w">      </span>The<span class="w"> </span>ResourceCalculator<span class="w"> </span>implementation<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>used<span class="w"> </span>to<span class="w"> </span>compare<span class="w"> </span>
<span class="w">      </span>Resources<span class="w"> </span>in<span class="w"> </span>the<span class="w"> </span>scheduler.
<span class="w">      </span>The<span class="w"> </span>default<span class="w"> </span>i.e.<span class="w"> </span>DefaultResourceCalculator<span class="w"> </span>only<span class="w"> </span>uses<span class="w"> </span>Memory<span class="w"> </span>while
<span class="w">      </span>DominantResourceCalculator<span class="w"> </span>uses<span class="w"> </span>dominant-resource<span class="w"> </span>to<span class="w"> </span>compare<span class="w"> </span>
<span class="w">      </span>multi-dimensional<span class="w"> </span>resources<span class="w"> </span>such<span class="w"> </span>as<span class="w"> </span>Memory,<span class="w"> </span>CPU<span class="w"> </span>etc.
<span class="w">    </span><span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;/property&gt;</span>

<span class="w">  </span><span class="nt">&lt;property&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>yarn.scheduler.capacity.root.queues<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;value&gt;</span>prod,dev<span class="nt">&lt;/value&gt;</span>
<span class="w">    </span><span class="nt">&lt;description&gt;</span>
<span class="w">      </span>The<span class="w"> </span>queues<span class="w"> </span>at<span class="w"> </span>the<span class="w"> </span>this<span class="w"> </span>level<span class="w"> </span>(root<span class="w"> </span>is<span class="w"> </span>the<span class="w"> </span>root<span class="w"> </span>queue).
<span class="w">    </span><span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;/property&gt;</span>

<span class="w">  </span><span class="nt">&lt;property&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>yarn.scheduler.capacity.root.prod.capacity<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;value&gt;</span>80<span class="nt">&lt;/value&gt;</span>
<span class="w">    </span><span class="nt">&lt;description&gt;</span>prod<span class="w"> </span>queue<span class="w"> </span>target<span class="w"> </span>capacity.<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;/property&gt;</span>

<span class="w">    </span><span class="nt">&lt;property&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>yarn.scheduler.capacity.root.dev.capacity<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;value&gt;</span>20<span class="nt">&lt;/value&gt;</span>
<span class="w">    </span><span class="nt">&lt;description&gt;</span>dev<span class="w"> </span>queue<span class="w"> </span>target<span class="w"> </span>capacity.<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;/property&gt;</span>

<span class="w">  </span><span class="nt">&lt;property&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>yarn.scheduler.capacity.root.prod.user-limit-factor<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;value&gt;</span>1<span class="nt">&lt;/value&gt;</span>
<span class="w">    </span><span class="nt">&lt;description&gt;</span>
<span class="w">       </span>Prod<span class="w"> </span>queue<span class="w"> </span>user<span class="w"> </span>limit<span class="w"> </span>a<span class="w"> </span>percentage<span class="w"> </span>from<span class="w"> </span>0.0<span class="w"> </span>to<span class="w"> </span>1.0.
<span class="w">    </span><span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;/property&gt;</span>

<span class="w">  </span><span class="nt">&lt;property&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>yarn.scheduler.capacity.root.prod.maximum-capacity<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;value&gt;</span>80<span class="nt">&lt;/value&gt;</span>
<span class="w">    </span><span class="nt">&lt;description&gt;</span>
<span class="w">      </span>The<span class="w"> </span>maximum<span class="w"> </span>capacity<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>prod<span class="w"> </span>queue.<span class="w"> </span>
<span class="w">    </span><span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;/property&gt;</span>


<span class="w">  </span><span class="nt">&lt;property&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>yarn.scheduler.capacity.root.dev.user-limit-factor<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;value&gt;</span>1<span class="nt">&lt;/value&gt;</span>
<span class="w">    </span><span class="nt">&lt;description&gt;</span>
<span class="w">       </span>Dev<span class="w"> </span>queue<span class="w"> </span>user<span class="w"> </span>limit<span class="w"> </span>a<span class="w"> </span>percentage<span class="w"> </span>from<span class="w"> </span>0.0<span class="w"> </span>to<span class="w"> </span>1.0.
<span class="w">    </span><span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;/property&gt;</span>

<span class="w">  </span><span class="nt">&lt;property&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>yarn.scheduler.capacity.root.dev.maximum-capacity<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;value&gt;</span>20<span class="nt">&lt;/value&gt;</span>
<span class="w">    </span><span class="nt">&lt;description&gt;</span>
<span class="w">      </span>The<span class="w"> </span>maximum<span class="w"> </span>capacity<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>dev<span class="w"> </span>queue.<span class="w"> </span>
<span class="w">    </span><span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;/property&gt;</span>

<span class="w">  </span><span class="nt">&lt;property&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>yarn.scheduler.capacity.root.prod.state<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;value&gt;</span>RUNNING<span class="nt">&lt;/value&gt;</span>
<span class="w">    </span><span class="nt">&lt;description&gt;</span>
<span class="w">      </span>The<span class="w"> </span>state<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>prod<span class="w"> </span>queue.<span class="w"> </span>State<span class="w"> </span>can<span class="w"> </span>be<span class="w"> </span>one<span class="w"> </span>of<span class="w"> </span>RUNNING<span class="w"> </span>or<span class="w"> </span>STOPPED.
<span class="w">    </span><span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;/property&gt;</span>

<span class="w">    </span><span class="nt">&lt;property&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>yarn.scheduler.capacity.root.dev.state<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;value&gt;</span>RUNNING<span class="nt">&lt;/value&gt;</span>
<span class="w">    </span><span class="nt">&lt;description&gt;</span>
<span class="w">      </span>The<span class="w"> </span>state<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>dev<span class="w"> </span>queue.<span class="w"> </span>State<span class="w"> </span>can<span class="w"> </span>be<span class="w"> </span>one<span class="w"> </span>of<span class="w"> </span>RUNNING<span class="w"> </span>or<span class="w"> </span>STOPPED.
<span class="w">    </span><span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;/property&gt;</span>

<span class="w">  </span><span class="nt">&lt;property&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>yarn.scheduler.capacity.root.prod.acl_submit_applications<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;value&gt;</span>*<span class="nt">&lt;/value&gt;</span>
<span class="w">    </span><span class="nt">&lt;description&gt;</span>
<span class="w">      </span>The<span class="w"> </span>ACL<span class="w"> </span>of<span class="w"> </span>who<span class="w"> </span>can<span class="w"> </span>submit<span class="w"> </span>jobs<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>prod<span class="w"> </span>queue.
<span class="w">    </span><span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;/property&gt;</span>

<span class="w">  </span><span class="nt">&lt;property&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>yarn.scheduler.capacity.root.prod.acl_administer_queue<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;value&gt;</span>*<span class="nt">&lt;/value&gt;</span>
<span class="w">    </span><span class="nt">&lt;description&gt;</span>
<span class="w">      </span>The<span class="w"> </span>ACL<span class="w"> </span>of<span class="w"> </span>who<span class="w"> </span>can<span class="w"> </span>administer<span class="w"> </span>jobs<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>prod<span class="w"> </span>queue.
<span class="w">    </span><span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;/property&gt;</span>

<span class="w">  </span><span class="nt">&lt;property&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>yarn.scheduler.capacity.root.prod.acl_application_max_priority<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;value&gt;</span>*<span class="nt">&lt;/value&gt;</span>
<span class="w">    </span><span class="nt">&lt;description&gt;</span>
<span class="w">      </span>The<span class="w"> </span>ACL<span class="w"> </span>of<span class="w"> </span>who<span class="w"> </span>can<span class="w"> </span>submit<span class="w"> </span>applications<span class="w"> </span>with<span class="w"> </span>configured<span class="w"> </span>priority.
<span class="w">      </span>For<span class="w"> </span>e.g,<span class="w"> </span>[user={name}<span class="w"> </span>group={name}<span class="w"> </span>max_priority={priority}<span class="w"> </span>default_priority={priority}]
<span class="w">    </span><span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;/property&gt;</span>

<span class="w">   </span><span class="nt">&lt;property&gt;</span>
<span class="w">     </span><span class="nt">&lt;name&gt;</span>yarn.scheduler.capacity.root.prod.maximum-application-lifetime
<span class="w">     </span><span class="nt">&lt;/name&gt;</span>
<span class="w">     </span><span class="nt">&lt;value&gt;</span>-1<span class="nt">&lt;/value&gt;</span>
<span class="w">     </span><span class="nt">&lt;description&gt;</span>
<span class="w">        </span>Maximum<span class="w"> </span>lifetime<span class="w"> </span>of<span class="w"> </span>an<span class="w"> </span>application<span class="w"> </span>which<span class="w"> </span>is<span class="w"> </span>submitted<span class="w"> </span>to<span class="w"> </span>a<span class="w"> </span>queue
<span class="w">        </span>in<span class="w"> </span>seconds.<span class="w"> </span>Any<span class="w"> </span>value<span class="w"> </span>less<span class="w"> </span>than<span class="w"> </span>or<span class="w"> </span>equal<span class="w"> </span>to<span class="w"> </span>zero<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>considered<span class="w"> </span>as
<span class="w">        </span>disabled.
<span class="w">        </span>This<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>a<span class="w"> </span>hard<span class="w"> </span>time<span class="w"> </span>limit<span class="w"> </span>for<span class="w"> </span>all<span class="w"> </span>applications<span class="w"> </span>in<span class="w"> </span>this
<span class="w">        </span>queue.<span class="w"> </span>If<span class="w"> </span>positive<span class="w"> </span>value<span class="w"> </span>is<span class="w"> </span>configured<span class="w"> </span>then<span class="w"> </span>any<span class="w"> </span>application<span class="w"> </span>submitted
<span class="w">        </span>to<span class="w"> </span>this<span class="w"> </span>queue<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>killed<span class="w"> </span>after<span class="w"> </span>exceeds<span class="w"> </span>the<span class="w"> </span>configured<span class="w"> </span>lifetime.
<span class="w">        </span>User<span class="w"> </span>can<span class="w"> </span>also<span class="w"> </span>specify<span class="w"> </span>lifetime<span class="w"> </span>per<span class="w"> </span>application<span class="w"> </span>basis<span class="w"> </span>in
<span class="w">        </span>application<span class="w"> </span>submission<span class="w"> </span>context.<span class="w"> </span>But<span class="w"> </span>user<span class="w"> </span>lifetime<span class="w"> </span>will<span class="w"> </span>be
<span class="w">        </span>overridden<span class="w"> </span>if<span class="w"> </span>it<span class="w"> </span>exceeds<span class="w"> </span>queue<span class="w"> </span>maximum<span class="w"> </span>lifetime.<span class="w"> </span>It<span class="w"> </span>is<span class="w"> </span>point-in-time
<span class="w">        </span>configuration.
<span class="w">        </span>Note<span class="w"> </span>:<span class="w"> </span>Configuring<span class="w"> </span>too<span class="w"> </span>low<span class="w"> </span>value<span class="w"> </span>will<span class="w"> </span>result<span class="w"> </span>in<span class="w"> </span>killing<span class="w"> </span>application
<span class="w">        </span>sooner.<span class="w"> </span>This<span class="w"> </span>feature<span class="w"> </span>is<span class="w"> </span>applicable<span class="w"> </span>only<span class="w"> </span>for<span class="w"> </span>leaf<span class="w"> </span>queue.
<span class="w">     </span><span class="nt">&lt;/description&gt;</span>
<span class="w">   </span><span class="nt">&lt;/property&gt;</span>

<span class="w">   </span><span class="nt">&lt;property&gt;</span>
<span class="w">     </span><span class="nt">&lt;name&gt;</span>yarn.scheduler.capacity.root.prod.default-application-lifetime
<span class="w">     </span><span class="nt">&lt;/name&gt;</span>
<span class="w">     </span><span class="nt">&lt;value&gt;</span>-1<span class="nt">&lt;/value&gt;</span>
<span class="w">     </span><span class="nt">&lt;description&gt;</span>
<span class="w">        </span>Default<span class="w"> </span>lifetime<span class="w"> </span>of<span class="w"> </span>an<span class="w"> </span>application<span class="w"> </span>which<span class="w"> </span>is<span class="w"> </span>submitted<span class="w"> </span>to<span class="w"> </span>a<span class="w"> </span>queue
<span class="w">        </span>in<span class="w"> </span>seconds.<span class="w"> </span>Any<span class="w"> </span>value<span class="w"> </span>less<span class="w"> </span>than<span class="w"> </span>or<span class="w"> </span>equal<span class="w"> </span>to<span class="w"> </span>zero<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>considered<span class="w"> </span>as
<span class="w">        </span>disabled.
<span class="w">        </span>If<span class="w"> </span>the<span class="w"> </span>user<span class="w"> </span>has<span class="w"> </span>not<span class="w"> </span>submitted<span class="w"> </span>application<span class="w"> </span>with<span class="w"> </span>lifetime<span class="w"> </span>value<span class="w"> </span>then<span class="w"> </span>this
<span class="w">        </span>value<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>taken.<span class="w"> </span>It<span class="w"> </span>is<span class="w"> </span>point-in-time<span class="w"> </span>configuration.
<span class="w">        </span>Note<span class="w"> </span>:<span class="w"> </span>Default<span class="w"> </span>lifetime<span class="w"> </span>can&#39;t<span class="w"> </span>exceed<span class="w"> </span>maximum<span class="w"> </span>lifetime.<span class="w"> </span>This<span class="w"> </span>feature<span class="w"> </span>is
<span class="w">        </span>applicable<span class="w"> </span>only<span class="w"> </span>for<span class="w"> </span>leaf<span class="w"> </span>queue.
<span class="w">     </span><span class="nt">&lt;/description&gt;</span>
<span class="w">   </span><span class="nt">&lt;/property&gt;</span>

<span class="w">      </span><span class="nt">&lt;property&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>yarn.scheduler.capacity.root.dev.acl_submit_applications<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;value&gt;</span>*<span class="nt">&lt;/value&gt;</span>
<span class="w">    </span><span class="nt">&lt;description&gt;</span>
<span class="w">      </span>The<span class="w"> </span>ACL<span class="w"> </span>of<span class="w"> </span>who<span class="w"> </span>can<span class="w"> </span>submit<span class="w"> </span>jobs<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>dev<span class="w"> </span>queue.
<span class="w">    </span><span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;/property&gt;</span>

<span class="w">  </span><span class="nt">&lt;property&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>yarn.scheduler.capacity.root.dev.acl_administer_queue<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;value&gt;</span>*<span class="nt">&lt;/value&gt;</span>
<span class="w">    </span><span class="nt">&lt;description&gt;</span>
<span class="w">      </span>The<span class="w"> </span>ACL<span class="w"> </span>of<span class="w"> </span>who<span class="w"> </span>can<span class="w"> </span>administer<span class="w"> </span>jobs<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>dev<span class="w"> </span>queue.
<span class="w">    </span><span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;/property&gt;</span>

<span class="w">  </span><span class="nt">&lt;property&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>yarn.scheduler.capacity.root.dev.acl_application_max_priority<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;value&gt;</span>*<span class="nt">&lt;/value&gt;</span>
<span class="w">    </span><span class="nt">&lt;description&gt;</span>
<span class="w">      </span>The<span class="w"> </span>ACL<span class="w"> </span>of<span class="w"> </span>who<span class="w"> </span>can<span class="w"> </span>submit<span class="w"> </span>applications<span class="w"> </span>with<span class="w"> </span>configured<span class="w"> </span>priority.
<span class="w">      </span>For<span class="w"> </span>e.g,<span class="w"> </span>[user={name}<span class="w"> </span>group={name}<span class="w"> </span>max_priority={priority}<span class="w"> </span>default_priority={priority}]
<span class="w">    </span><span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;/property&gt;</span>

<span class="w">   </span><span class="nt">&lt;property&gt;</span>
<span class="w">     </span><span class="nt">&lt;name&gt;</span>yarn.scheduler.capacity.root.dev.maximum-application-lifetime
<span class="w">     </span><span class="nt">&lt;/name&gt;</span>
<span class="w">     </span><span class="nt">&lt;value&gt;</span>-1<span class="nt">&lt;/value&gt;</span>
<span class="w">     </span><span class="nt">&lt;description&gt;</span>
<span class="w">        </span>Maximum<span class="w"> </span>lifetime<span class="w"> </span>of<span class="w"> </span>an<span class="w"> </span>application<span class="w"> </span>which<span class="w"> </span>is<span class="w"> </span>submitted<span class="w"> </span>to<span class="w"> </span>a<span class="w"> </span>queue
<span class="w">        </span>in<span class="w"> </span>seconds.<span class="w"> </span>Any<span class="w"> </span>value<span class="w"> </span>less<span class="w"> </span>than<span class="w"> </span>or<span class="w"> </span>equal<span class="w"> </span>to<span class="w"> </span>zero<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>considered<span class="w"> </span>as
<span class="w">        </span>disabled.
<span class="w">        </span>This<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>a<span class="w"> </span>hard<span class="w"> </span>time<span class="w"> </span>limit<span class="w"> </span>for<span class="w"> </span>all<span class="w"> </span>applications<span class="w"> </span>in<span class="w"> </span>this
<span class="w">        </span>queue.<span class="w"> </span>If<span class="w"> </span>positive<span class="w"> </span>value<span class="w"> </span>is<span class="w"> </span>configured<span class="w"> </span>then<span class="w"> </span>any<span class="w"> </span>application<span class="w"> </span>submitted
<span class="w">        </span>to<span class="w"> </span>this<span class="w"> </span>queue<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>killed<span class="w"> </span>after<span class="w"> </span>exceeds<span class="w"> </span>the<span class="w"> </span>configured<span class="w"> </span>lifetime.
<span class="w">        </span>User<span class="w"> </span>can<span class="w"> </span>also<span class="w"> </span>specify<span class="w"> </span>lifetime<span class="w"> </span>per<span class="w"> </span>application<span class="w"> </span>basis<span class="w"> </span>in
<span class="w">        </span>application<span class="w"> </span>submission<span class="w"> </span>context.<span class="w"> </span>But<span class="w"> </span>user<span class="w"> </span>lifetime<span class="w"> </span>will<span class="w"> </span>be
<span class="w">        </span>overridden<span class="w"> </span>if<span class="w"> </span>it<span class="w"> </span>exceeds<span class="w"> </span>queue<span class="w"> </span>maximum<span class="w"> </span>lifetime.<span class="w"> </span>It<span class="w"> </span>is<span class="w"> </span>point-in-time
<span class="w">        </span>configuration.
<span class="w">        </span>Note<span class="w"> </span>:<span class="w"> </span>Configuring<span class="w"> </span>too<span class="w"> </span>low<span class="w"> </span>value<span class="w"> </span>will<span class="w"> </span>result<span class="w"> </span>in<span class="w"> </span>killing<span class="w"> </span>application
<span class="w">        </span>sooner.<span class="w"> </span>This<span class="w"> </span>feature<span class="w"> </span>is<span class="w"> </span>applicable<span class="w"> </span>only<span class="w"> </span>for<span class="w"> </span>leaf<span class="w"> </span>queue.
<span class="w">     </span><span class="nt">&lt;/description&gt;</span>
<span class="w">   </span><span class="nt">&lt;/property&gt;</span>

<span class="w">   </span><span class="nt">&lt;property&gt;</span>
<span class="w">     </span><span class="nt">&lt;name&gt;</span>yarn.scheduler.capacity.root.dev.default-application-lifetime
<span class="w">     </span><span class="nt">&lt;/name&gt;</span>
<span class="w">     </span><span class="nt">&lt;value&gt;</span>-1<span class="nt">&lt;/value&gt;</span>
<span class="w">     </span><span class="nt">&lt;description&gt;</span>
<span class="w">        </span>Default<span class="w"> </span>lifetime<span class="w"> </span>of<span class="w"> </span>an<span class="w"> </span>application<span class="w"> </span>which<span class="w"> </span>is<span class="w"> </span>submitted<span class="w"> </span>to<span class="w"> </span>a<span class="w"> </span>queue
<span class="w">        </span>in<span class="w"> </span>seconds.<span class="w"> </span>Any<span class="w"> </span>value<span class="w"> </span>less<span class="w"> </span>than<span class="w"> </span>or<span class="w"> </span>equal<span class="w"> </span>to<span class="w"> </span>zero<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>considered<span class="w"> </span>as
<span class="w">        </span>disabled.
<span class="w">        </span>If<span class="w"> </span>the<span class="w"> </span>user<span class="w"> </span>has<span class="w"> </span>not<span class="w"> </span>submitted<span class="w"> </span>application<span class="w"> </span>with<span class="w"> </span>lifetime<span class="w"> </span>value<span class="w"> </span>then<span class="w"> </span>this
<span class="w">        </span>value<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>taken.<span class="w"> </span>It<span class="w"> </span>is<span class="w"> </span>point-in-time<span class="w"> </span>configuration.
<span class="w">        </span>Note<span class="w"> </span>:<span class="w"> </span>Default<span class="w"> </span>lifetime<span class="w"> </span>can&#39;t<span class="w"> </span>exceed<span class="w"> </span>maximum<span class="w"> </span>lifetime.<span class="w"> </span>This<span class="w"> </span>feature<span class="w"> </span>is
<span class="w">        </span>applicable<span class="w"> </span>only<span class="w"> </span>for<span class="w"> </span>leaf<span class="w"> </span>queue.
<span class="w">     </span><span class="nt">&lt;/description&gt;</span>
<span class="w">   </span><span class="nt">&lt;/property&gt;</span>

<span class="w">  </span><span class="nt">&lt;property&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>yarn.scheduler.capacity.node-locality-delay<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;value&gt;</span>40<span class="nt">&lt;/value&gt;</span>
<span class="w">    </span><span class="nt">&lt;description&gt;</span>
<span class="w">      </span>Number<span class="w"> </span>of<span class="w"> </span>missed<span class="w"> </span>scheduling<span class="w"> </span>opportunities<span class="w"> </span>after<span class="w"> </span>which<span class="w"> </span>the<span class="w"> </span>CapacityScheduler<span class="w"> </span>
<span class="w">      </span>attempts<span class="w"> </span>to<span class="w"> </span>schedule<span class="w"> </span>rack-local<span class="w"> </span>containers.
<span class="w">      </span>When<span class="w"> </span>setting<span class="w"> </span>this<span class="w"> </span>parameter,<span class="w"> </span>the<span class="w"> </span>size<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>cluster<span class="w"> </span>should<span class="w"> </span>be<span class="w"> </span>taken<span class="w"> </span>into<span class="w"> </span>account.
<span class="w">      </span>We<span class="w"> </span>use<span class="w"> </span>40<span class="w"> </span>as<span class="w"> </span>the<span class="w"> </span>default<span class="w"> </span>value,<span class="w"> </span>which<span class="w"> </span>is<span class="w"> </span>approximately<span class="w"> </span>the<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>nodes<span class="w"> </span>in<span class="w"> </span>one<span class="w"> </span>rack.
<span class="w">      </span>Note,<span class="w"> </span>if<span class="w"> </span>this<span class="w"> </span>value<span class="w"> </span>is<span class="w"> </span>-1,<span class="w"> </span>the<span class="w"> </span>locality<span class="w"> </span>constraint<span class="w"> </span>in<span class="w"> </span>the<span class="w"> </span>container<span class="w"> </span>request
<span class="w">      </span>will<span class="w"> </span>be<span class="w"> </span>ignored,<span class="w"> </span>which<span class="w"> </span>disables<span class="w"> </span>the<span class="w"> </span>delay<span class="w"> </span>scheduling.
<span class="w">    </span><span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;/property&gt;</span>

<span class="w">  </span><span class="nt">&lt;property&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>yarn.scheduler.capacity.rack-locality-additional-delay<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;value&gt;</span>-1<span class="nt">&lt;/value&gt;</span>
<span class="w">    </span><span class="nt">&lt;description&gt;</span>
<span class="w">      </span>Number<span class="w"> </span>of<span class="w"> </span>additional<span class="w"> </span>missed<span class="w"> </span>scheduling<span class="w"> </span>opportunities<span class="w"> </span>over<span class="w"> </span>the<span class="w"> </span>node-locality-delay
<span class="w">      </span>ones,<span class="w"> </span>after<span class="w"> </span>which<span class="w"> </span>the<span class="w"> </span>CapacityScheduler<span class="w"> </span>attempts<span class="w"> </span>to<span class="w"> </span>schedule<span class="w"> </span>off-switch<span class="w"> </span>containers,
<span class="w">      </span>instead<span class="w"> </span>of<span class="w"> </span>rack-local<span class="w"> </span>ones.
<span class="w">      </span>Example:<span class="w"> </span>with<span class="w"> </span>node-locality-delay=40<span class="w"> </span>and<span class="w"> </span>rack-locality-delay=20,<span class="w"> </span>the<span class="w"> </span>scheduler<span class="w"> </span>will
<span class="w">      </span>attempt<span class="w"> </span>rack-local<span class="w"> </span>assignments<span class="w"> </span>after<span class="w"> </span>40<span class="w"> </span>missed<span class="w"> </span>opportunities,<span class="w"> </span>and<span class="w"> </span>off-switch<span class="w"> </span>assignments
<span class="w">      </span>after<span class="w"> </span>40+20=60<span class="w"> </span>missed<span class="w"> </span>opportunities.
<span class="w">      </span>When<span class="w"> </span>setting<span class="w"> </span>this<span class="w"> </span>parameter,<span class="w"> </span>the<span class="w"> </span>size<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>cluster<span class="w"> </span>should<span class="w"> </span>be<span class="w"> </span>taken<span class="w"> </span>into<span class="w"> </span>account.
<span class="w">      </span>We<span class="w"> </span>use<span class="w"> </span>-1<span class="w"> </span>as<span class="w"> </span>the<span class="w"> </span>default<span class="w"> </span>value,<span class="w"> </span>which<span class="w"> </span>disables<span class="w"> </span>this<span class="w"> </span>feature.<span class="w"> </span>In<span class="w"> </span>this<span class="w"> </span>case,<span class="w"> </span>the<span class="w"> </span>number
<span class="w">      </span>of<span class="w"> </span>missed<span class="w"> </span>opportunities<span class="w"> </span>for<span class="w"> </span>assigning<span class="w"> </span>off-switch<span class="w"> </span>containers<span class="w"> </span>is<span class="w"> </span>calculated<span class="w"> </span>based<span class="w"> </span>on
<span class="w">      </span>the<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>containers<span class="w"> </span>and<span class="w"> </span>unique<span class="w"> </span>locations<span class="w"> </span>specified<span class="w"> </span>in<span class="w"> </span>the<span class="w"> </span>resource<span class="w"> </span>request,
<span class="w">      </span>as<span class="w"> </span>well<span class="w"> </span>as<span class="w"> </span>the<span class="w"> </span>size<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>cluster.
<span class="w">    </span><span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;/property&gt;</span>

<span class="w">  </span><span class="nt">&lt;property&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>yarn.scheduler.capacity.queue-mappings<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;value&gt;&lt;/value&gt;</span>
<span class="w">    </span><span class="nt">&lt;description&gt;</span>
<span class="w">      </span>A<span class="w"> </span>list<span class="w"> </span>of<span class="w"> </span>mappings<span class="w"> </span>that<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>used<span class="w"> </span>to<span class="w"> </span>assign<span class="w"> </span>jobs<span class="w"> </span>to<span class="w"> </span>queues
<span class="w">      </span>The<span class="w"> </span>syntax<span class="w"> </span>for<span class="w"> </span>this<span class="w"> </span>list<span class="w"> </span>is<span class="w"> </span>[u|g]:[name]:[queue_name][,next<span class="w"> </span>mapping]*
<span class="w">      </span>Typically<span class="w"> </span>this<span class="w"> </span>list<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>used<span class="w"> </span>to<span class="w"> </span>map<span class="w"> </span>users<span class="w"> </span>to<span class="w"> </span>queues,
<span class="w">      </span>for<span class="w"> </span>example,<span class="w"> </span>u:%user:%user<span class="w"> </span>maps<span class="w"> </span>all<span class="w"> </span>users<span class="w"> </span>to<span class="w"> </span>queues<span class="w"> </span>with<span class="w"> </span>the<span class="w"> </span>same<span class="w"> </span>name
<span class="w">      </span>as<span class="w"> </span>the<span class="w"> </span>user.
<span class="w">    </span><span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;/property&gt;</span>

<span class="w">  </span><span class="nt">&lt;property&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>yarn.scheduler.capacity.queue-mappings-override.enable<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;value&gt;</span>false<span class="nt">&lt;/value&gt;</span>
<span class="w">    </span><span class="nt">&lt;description&gt;</span>
<span class="w">      </span>If<span class="w"> </span>a<span class="w"> </span>queue<span class="w"> </span>mapping<span class="w"> </span>is<span class="w"> </span>present,<span class="w"> </span>will<span class="w"> </span>it<span class="w"> </span>override<span class="w"> </span>the<span class="w"> </span>value<span class="w"> </span>specified
<span class="w">      </span>by<span class="w"> </span>the<span class="w"> </span>user?<span class="w"> </span>This<span class="w"> </span>can<span class="w"> </span>be<span class="w"> </span>used<span class="w"> </span>by<span class="w"> </span>administrators<span class="w"> </span>to<span class="w"> </span>place<span class="w"> </span>jobs<span class="w"> </span>in<span class="w"> </span>queues
<span class="w">      </span>that<span class="w"> </span>are<span class="w"> </span>different<span class="w"> </span>than<span class="w"> </span>the<span class="w"> </span>one<span class="w"> </span>specified<span class="w"> </span>by<span class="w"> </span>the<span class="w"> </span>user.
<span class="w">      </span>The<span class="w"> </span>default<span class="w"> </span>is<span class="w"> </span>false.
<span class="w">    </span><span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;/property&gt;</span>

<span class="w">  </span><span class="nt">&lt;property&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>yarn.scheduler.capacity.per-node-heartbeat.maximum-offswitch-assignments<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;value&gt;</span>1<span class="nt">&lt;/value&gt;</span>
<span class="w">    </span><span class="nt">&lt;description&gt;</span>
<span class="w">      </span>Controls<span class="w"> </span>the<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>OFF_SWITCH<span class="w"> </span>assignments<span class="w"> </span>allowed
<span class="w">      </span>during<span class="w"> </span>a<span class="w"> </span>node&#39;s<span class="w"> </span>heartbeat.<span class="w"> </span>Increasing<span class="w"> </span>this<span class="w"> </span>value<span class="w"> </span>can<span class="w"> </span>improve
<span class="w">      </span>scheduling<span class="w"> </span>rate<span class="w"> </span>for<span class="w"> </span>OFF_SWITCH<span class="w"> </span>containers.<span class="w"> </span>Lower<span class="w"> </span>values<span class="w"> </span>reduce
<span class="w">      </span>&quot;clumping&quot;<span class="w"> </span>of<span class="w"> </span>applications<span class="w"> </span>on<span class="w"> </span>particular<span class="w"> </span>nodes.<span class="w"> </span>The<span class="w"> </span>default<span class="w"> </span>is<span class="w"> </span>1.
<span class="w">      </span>Legal<span class="w"> </span>values<span class="w"> </span>are<span class="w"> </span>1-MAX_INT.<span class="w"> </span>This<span class="w"> </span>config<span class="w"> </span>is<span class="w"> </span>refreshable.
<span class="w">    </span><span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;/property&gt;</span>


<span class="w">  </span><span class="nt">&lt;property&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>yarn.scheduler.capacity.application.fail-fast<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;value&gt;</span>false<span class="nt">&lt;/value&gt;</span>
<span class="w">    </span><span class="nt">&lt;description&gt;</span>
<span class="w">      </span>Whether<span class="w"> </span>RM<span class="w"> </span>should<span class="w"> </span>fail<span class="w"> </span>during<span class="w"> </span>recovery<span class="w"> </span>if<span class="w"> </span>previous<span class="w"> </span>applications&#39;
<span class="w">      </span>queue<span class="w"> </span>is<span class="w"> </span>no<span class="w"> </span>longer<span class="w"> </span>valid.
<span class="w">    </span><span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;/property&gt;</span>

<span class="w">  </span><span class="nt">&lt;property&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>yarn.scheduler.capacity.workflow-priority-mappings<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;value&gt;&lt;/value&gt;</span>
<span class="w">    </span><span class="nt">&lt;description&gt;</span>
<span class="w">      </span>A<span class="w"> </span>list<span class="w"> </span>of<span class="w"> </span>mappings<span class="w"> </span>that<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>used<span class="w"> </span>to<span class="w"> </span>override<span class="w"> </span>application<span class="w"> </span>priority.
<span class="w">      </span>The<span class="w"> </span>syntax<span class="w"> </span>for<span class="w"> </span>this<span class="w"> </span>list<span class="w"> </span>is
<span class="w">      </span>[workflowId]:[full_queue_name]:[priority][,next<span class="w"> </span>mapping]*
<span class="w">      </span>where<span class="w"> </span>an<span class="w"> </span>application<span class="w"> </span>submitted<span class="w"> </span>(or<span class="w"> </span>mapped<span class="w"> </span>to)<span class="w"> </span>queue<span class="w"> </span>&quot;full_queue_name&quot;
<span class="w">      </span>and<span class="w"> </span>workflowId<span class="w"> </span>&quot;workflowId&quot;<span class="w"> </span>(as<span class="w"> </span>specified<span class="w"> </span>in<span class="w"> </span>application<span class="w"> </span>submission
<span class="w">      </span>context)<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>given<span class="w"> </span>priority<span class="w"> </span>&quot;priority&quot;.
<span class="w">    </span><span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;/property&gt;</span>

<span class="w">  </span><span class="nt">&lt;property&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>yarn.scheduler.capacity.workflow-priority-mappings-override.enable<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;value&gt;</span>false<span class="nt">&lt;/value&gt;</span>
<span class="w">    </span><span class="nt">&lt;description&gt;</span>
<span class="w">      </span>If<span class="w"> </span>a<span class="w"> </span>priority<span class="w"> </span>mapping<span class="w"> </span>is<span class="w"> </span>present,<span class="w"> </span>will<span class="w"> </span>it<span class="w"> </span>override<span class="w"> </span>the<span class="w"> </span>value<span class="w"> </span>specified
<span class="w">      </span>by<span class="w"> </span>the<span class="w"> </span>user?<span class="w"> </span>This<span class="w"> </span>can<span class="w"> </span>be<span class="w"> </span>used<span class="w"> </span>by<span class="w"> </span>administrators<span class="w"> </span>to<span class="w"> </span>give<span class="w"> </span>applications<span class="w"> </span>a
<span class="w">      </span>priority<span class="w"> </span>that<span class="w"> </span>is<span class="w"> </span>different<span class="w"> </span>than<span class="w"> </span>the<span class="w"> </span>one<span class="w"> </span>specified<span class="w"> </span>by<span class="w"> </span>the<span class="w"> </span>user.
<span class="w">      </span>The<span class="w"> </span>default<span class="w"> </span>is<span class="w"> </span>false.
<span class="w">    </span><span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;/property&gt;</span>

<span class="w">  </span><span class="nt">&lt;property&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>yarn.scheduler.capacity.maximum-am-resource-percent<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;value&gt;</span>1<span class="nt">&lt;/value&gt;</span>
<span class="w">    </span><span class="nt">&lt;description&gt;</span>
<span class="w">      </span>This<span class="w"> </span>option<span class="w"> </span>configures<span class="w"> </span>the<span class="w"> </span>Configured<span class="w"> </span>Max<span class="w"> </span>Application<span class="w"> </span>Master<span class="w"> </span>Limit<span class="w"> </span>and<span class="w"> </span>all<span class="w"> </span>the<span class="w"> </span>related<span class="w"> </span>Max<span class="w"> </span>Application<span class="w"> </span>master
<span class="w">      </span>resources<span class="w"> </span>Per<span class="w"> </span>user.<span class="w"> </span>
<span class="w">    </span><span class="nt">&lt;/description&gt;</span>
<span class="nt">&lt;/property&gt;</span>

<span class="nt">&lt;/configuration&gt;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># to check existing queue</span>
hadoop<span class="w"> </span>queue<span class="w"> </span>-list
</code></pre></div>
<h3 id="84-start-the-yarn-service">8.4 Start the yarn service<a class="headerlink" href="#84-start-the-yarn-service" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>./sbin/start-yarn.sh
Starting<span class="w"> </span>resourcemanager
Starting<span class="w"> </span>nodemanagers

<span class="c1"># you should see below process which runs in your name node</span>
jps
<span class="m">24737</span><span class="w"> </span>SecondaryNameNode
<span class="m">24486</span><span class="w"> </span>NameNode
<span class="m">25318</span><span class="w"> </span>ResourceManager
<span class="m">26806</span><span class="w"> </span>Jps
</code></pre></div>
<p>You can access the web interface via <code>http://&lt;name-node&gt;:8088/cluster</code></p>
<p>In our case, it will be <code>/cluster</code></p>
<h2 id="9-useful-url">9. Useful url<a class="headerlink" href="#9-useful-url" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>hdfs UI</strong>: (http://10.50.5.67:9870): monitor hdfs cluster status, storage usage and data lists</li>
<li><strong>Yarn UI</strong>: (http://10.50.5.67:8088): monitor cluster total and used resource for running jobs, job list and different job queues</li>
<li><strong>spark UI</strong> (http://10.50.5.67:8088/proxy/<application_id>): monitor current running spark jobs progress and resource utilisation</li>
<li><strong>spark history server</strong> : (http://10.50.5.67:18080): Monitor the stats of terminated spark jobs</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.instant", "search.suggest", "search.highlight"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>